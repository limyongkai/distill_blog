[
  {
    "path": "posts/2021-06-12-dataviz-makeover-2/",
    "title": "Dataviz Makeover 2",
    "description": "DataViz Makeover 2",
    "author": [
      {
        "name": "Yong Kai Lim",
        "url": "https://limyongkai.netlify.app/"
      }
    ],
    "date": "2021-06-20",
    "categories": [],
    "contents": "\r\nThe original Visualisation\r\nFigure 1 below shows the original visualisation of the Singapore’s merchandise trade performance with major trading partners in 2020 by Department of Statistics, Singapore (DOS).\r\n\r\n\r\n\r\nFigure 1: Original Visualisation\r\n\r\n\r\n\r\n1. Critiques for the original visualisation\r\nBefore looking at the visualisation aesthetics and clarity, it is important to have a clear understanding of the context and objective of the visualisation.\r\nWhat does merchandise trade constitutes?\r\nMerchandise Trade is the combination of imports and exports.\r\nImports refers to goods brought into Singapore.\r\nExports refers to good brought out of Singapore.\r\nNet Importers refers to markets whose Imports is higher than Exports to Singapore.\r\nNet Exporters refers to markets whose Exports is higher than Imports to Singapore.\r\n\r\nHow do we measure merchandise trade?\r\nMerchandise trade is measured in Singapore Dollars (S$).\r\n\r\n1.1 Clarity of Visualisation\r\nClarity is the visualisation “Fit”: How the visualisation matches and tell reality.\r\n1.1.1 Good points in the visualisation to be kept\r\nBubble plot of Imports against Exports allow both factors to be visualise clearly for each market.\r\nThe diagonal line to split markets into Net Importers and Net Exporters allowed for clear visualisation of the markets without the use of grid lines to match the export and import value from each axis respectively.\r\n1.1.2 Areas to be improved\r\nTitle of visualisation can be added to elaborate on the contents of the plot.\r\nSubtitle can be added to provide more context and information for the visualisation, to elaborate information such as net importers and exporters definition.\r\nBoth Y-axis and X-axis is lacking the units of measurements. Although each bubble has been annotated with a monetary value in Singapore Dollars (S$), there is no indication to what the value represents.\r\nBoth axis represent monetary value which are continuous variables. Hence, tick mark should be added to enhance the clarity of the plot.\r\nThe annotation of monetary value for each country bubbles is presume to be for the total trade value. Hence, adjusting the size of the bubble to account for total trade value presents similar information to the annotated value.\r\nThe top net exporter and importer are annotate with a symbol. However, the nex export and net import values are missing which can allow for better interpretation of the plot.\r\n1.2 Aesthetics of Visualisation\r\nAesthetics is the visualisation “Form”: How the visualisation looks.\r\n1.2.1 Good points in the visualisation to be kept\r\nColor defined bubbles allows for differentiation between different countries easily.\r\nInteractivity when hovering across each bubbles allows for better visualisation of the plot on the website.\r\n1.2.2 Areas to be improved\r\nThe circle representing the countries are fully opaque and the overlapping of bubble make it difficult to fully view all countries. For example, the bubble for Republic of Korea is almost fully covered by Japan bubble.\r\nStated in the caption, the location of the white centre point of the bubble represents if the country is an net importer or exporter. However, some white point are on the diagonal line split, making it difficult to determine which region it will fall under. Interactive labeling of the information is highly recommended rather than visually eye-balling the position of the white circle.\r\nColor inking and fonts are uncomfortable for the eyes. In the bottom caption in light blue text box with white font, it is hard for reader to read. The legend for the symbol Top Net Exporter in light freen against the white background also makes it diffcult for the readers eye.\r\n2. Alternative Data Visualisation\r\nTo improve and create an interactive visualisation, the time period of the plot can be set from 2011 to 2020. Animations can be added to show the movement coupled with trailing lines of the bubbles over time.\r\nAn additional plot can be added to show the net export or net import value of the markets Currently, the bubble plot shows the import and export value on each axis, the total trade value by size and if the market is an net importer or exporter depending on which region the bubble resides separated by the diagonal line. There are no visual portion to show the value of the net import or export of the market. A bar plot can be added to depict which markets has the highest net export and import value.\r\n\r\n\r\n\r\nFigure 2: Sketch of alternative visualisation\r\n\r\n\r\n\r\nFigure 2 would be an alternative presentation of the visualisation.\r\nThe title of the visualisation will be renamed to provide more context to understand the visualisation.\r\nSubtitle will be added to provide background information on the context.\r\nThe plot title will be added. The year will be dynamic and changed along with the year filter.\r\nThe axis will include the export and import value with the appropriate currency with tick marks.\r\nAdd Country and Year filter as the visualisation is interactive.\r\nAdd tooltip description when hovered across to enhance the interactive of the visualisation.\r\nAdditional horizontal bar plot to be added to the right of the visualisation.\r\nThe bar plot will indicate if the market is an net importer or net exporter in the particular year.\r\nInclude the title and context for the bar plot.\r\nChange the color for the bar plot to differentiate between net importer and net exporter markets.\r\n\r\nInclude caption to indicate the dataset source and date.\r\nInclude footer if necessary to indicate any special information.\r\n3. Proposed Data Visualisation using Tableau\r\nThe dataset used was retrieved from Deparment of Statistics Singapore under the sub-section of Merchandise Trade by Region/Market.\r\nTableau Prep Builder 2021.1 software is used for data preparation and Tableau 2021.1 is used for data visualisation.\r\n3.1 Data Preparation\r\nUpload the dataset into Tableau Prep Builder.\r\n\r\n\r\n\r\nFigure 3: Load the Import worksheet\r\n\r\n\r\n\r\nRefer to Figure 3 to import the dataset by following the steps below.  1. Tick the box circled in red on the left. This option allows the Tableau Prep Builder to perform preliminary cleaning of the data.  2. Drag the T1 worksheet into the middle box.  3. Rename the data to Import.  4. Click the + button and create a Pivot node boxed in red.\r\n\r\n\r\n\r\nFigure 4: Pivot the data\r\n\r\n\r\n\r\nRefer to Figure 4 to Pivot and clean the data by following the steps below.  1. Drag all the months column header and drop to the Pivoted Fields section boxed in red.  2. Change the new Pivoted Column to be a Date data type. 3. Rename the columns to Import and Country accordingly. 4. Select the Country column and perform a Customer Split boxed in green.\r\n\r\n\r\n\r\nFigure 5: Create two new columns\r\n\r\n\r\n\r\nRefer to Figure 5 to create two new columns.\r\nIn the custom split tab, input ( into the field and split off at the Last word. (Follow as per red box on the left) This allows the new column to display only the words contained after the open bracket. In this case, we are splitting the column to get the Denomination of the trade value for each row. This is important in order to get the common import and export value of each market accurately.\r\nSimilar, perform the same custom split but instead choose to split off at the First word.(Follow as per orange box on the right) This will display only the words before the open bracket. In this case, we are splitting to get the Country name only.\r\n\r\n\r\n\r\nFigure 6: Clean column header and label data type\r\n\r\n\r\n\r\nRefer to Figure 6 to remove the unwanted rows\r\nExclude the rows whose country are as follows:\r\nTotal Merchandise Imports(Thousand Dollars)\r\nAmerica(Million Dollars)\r\nAsia(Million Dollars)\r\nEurope(Million Dollars)\r\nOceania(Million Dollars)\r\nAfrica(Million Dollars)\r\nAs these variables does not reflect the market but the summation and continents, we exclude them prior to our analysis.\r\nRepeat the steps from Figure 3 to Figure 6 for Export using the T2 worksheet.\r\n\r\n\r\n\r\nFigure 7: Join both tables\r\n\r\n\r\n\r\nRefer to Figure 7 to Join both table  1. Drag the Pivot node from Export flow to the + button on the right of Import flow as shown in the red circle.\r\n\r\n\r\n\r\nFigure 8: Join two tables\r\n\r\n\r\n\r\nRefer to Figure 8 to change the parameters of the Join  1. Add two Applied Join Clauses to match variables Date and Country shown in the red box.  2. Select the Join Type to full boxed in orange to include all countries into the final list.  3. Remove the columns Country(Country-1), Date(Date-1) and Date(Date-1). These are duplicate or repeated columns after performing the Join.\r\n\r\n\r\n\r\nFigure 9: Output into csv\r\n\r\n\r\n\r\nRefer to Figure 9 to Pivot the columns  1. Create a new Ouput node to the right side of the Join.  2. Select the Browse button to change the directory and filename and change the Output type to Comma Separated Values (.csv) boxed in red. \r\n3.2 Data Visualisation\r\nThe data prepared earlier is uploaded into Tableau for Visualisation.\r\n3.2.1 Create line plot for the 6 countries\r\nThe data contains import and export trade value of different markets from 1976 to 2021. Each market has the import and export value represented in different denomination. For example, European Union values is in Million Dollars whereas China is in Thousand Dollars. Hence, dummy variables will be created for import and export values by factoring in denomination.\r\n\r\n\r\n\r\nFigure 10: Create Calculated field for import and export\r\n\r\n\r\n\r\nSelect Analysis in the toolbar and select Create calculated field\r\nCreate a dummy variable dImport to tabulate the actual import value of the market factoring in the denomination.\r\nCreate a dummy variable dExport to tabulate the actual export value of the market factoring in the denomination.\r\nCreate a variable Total to tabulate the sum of export and import of the market.\r\n\r\n\r\n\r\nFigure 11: Create Calculated field for Net Export and Import\r\n\r\n\r\n\r\nCreate a variable NetExport to tabulate the net export value if the market total export value is more than their total import value for the year. This variable will only display values if the market has an net export value, else the variable will be empty for the market.\r\nCreate a variable NetImport to tabulate the net import value if the market total import value is more than their total export value for the year. This variable will only display values if the market has an net import value, else the variable will be empty for the market.\r\nCreate a variable export_import_word to display the string net export or net import depending on the markets value. This variable will be used in the tooltip description to reflect the market trade position. This variable will also be used in the barplot color to differentiate the market as a net exporter or net importer.\r\nCreate a variable Ref_line to plot the diagonal line across the plot. This will separate the region into two halves representing Net Exporter and Net Importer.\r\n\r\n\r\n\r\nFigure 12: Bubble plot parameters\r\n\r\n\r\n\r\nInsert Date into the Pages tab and set it to Year as shown in Figure 12 red box.\r\nInsert Country E and Date into the Filters tab as boxed in orange.\r\nThis will allow the visualisation to be interactive where users can select the markets they wish to be displayed.\r\nSelect Range of Dates as the filter type for the Date as boxed in orange.\r\nSet the range of dates to start from 1/1/2011 to 1/12/2020 to ensure that the visualisation will only display the time period.\r\nInsert dExport to Columns and dImport and Ref_line to Rows as boxed in green.\r\nThe Ref_line is added to row to display the diagonal line across the plot.\r\nSet the Ref_line to dual axis and synchronize the axis with the main Y-axis.\r\nProceed to uncheck the Show Header option as there is no value to show the axis.\r\n\r\n\r\n\r\nFigure 13: Add diagonal dotted line\r\n\r\n\r\n\r\nRight click on the plot and show the trend line for the variable Ref_line as shown in Figure 13 red box.\r\nChange the Opacity to 0% on the card for SUM(Ref_line). This is to remove the visibility of the circles on the plot.\r\nChange the Trend lines to dotted dash line as shown in the orange box.\r\nEdit the trend lines by right clicking the plot and uncheck the Show tooltips option. This will eliminate any pop-up of data and information when users hover around the trend line. As this will be an interactive visualisation, we would like to eliminate unnecessary information to be displayed.\r\n\r\n\r\n\r\nFigure 14: Bubble plot interactive features\r\n\r\n\r\n\r\n13.Change the card for SUM(dImport) to Shapes and change the shape to map each market to the respective flag.\r\nDownload the flag icon and saved it into your Tableau locale repository.\r\nMap the shapes to the flag icons accordingly by selecting shape that is boxed in blue.\r\nChange the size of the bubble according to the Total trade value for each market.\r\nChange the opacity to 75% for each bubble shape shown in the purple box.\r\nAdd tooltip comments to the bubbles to enhance the interactive information when users hover across each bubble as shown in the red box.\r\nChange the filter for Country to Multiple Values (dropdown) as shown in the orange box.\r\nThis allows users to select multiple countries to be displayed in the plot for visualisation.\r\nCheck the box for Show History and show both Marks and Trails for Highlighted bubbles as boxed in green.\r\nChange the opacity for the Marks and Trails to 50%. This is to reduce cluttering by only giving a lighter shade of trails in the plot.\r\nThis displays the movement trails of each bubble when the user animate over the years.\r\nOnly highlighted bubbles will display the trails instead of all bubbles. This reduces cluttering of the plot and the trails will only appear when users specifically selected and highlight those bubbles.\r\nChange the axis name to Import and Export and format the axis to show the currency and tick marks.\r\nFix the end of each axis to S$83bn. This will ensure that both scales are equal and the diagonal line is at a 45 degree angle.\r\nRename the Title of the plot and include dynamic display of the year. This will change the Year to match the Year accordingly to the users adjustment of the filter.\r\nFigure 15 below shows the layout in Tableau for the Bubble Plot.\r\n\r\n\r\n\r\nFigure 15: Final Bubble Plot layout\r\n\r\n\r\n\r\n3.2.2 Create Horizontal Bar Chart for Net Import and Net Export\r\nCreate a Bar chart in a new worksheet\r\n\r\n\r\n\r\nFigure 16: Create Horizontal Bar plot\r\n\r\n\r\n\r\nRepeat steps 9 and 10 in sub-section 3.1.1 to include the same Filters and Pages.\r\nAdd Market to Rows and NewImport and NetExport to Columns.\r\nChange the color of the bar plot to differentiate between Net Import and Net Export value.\r\nAdd tooltip comments as per the red box in Figure 16. This allows interactive information to appear when users hover on the barplot, displaying the market and if the it is a net export or import and the corresponding value.\r\nChange the axis name to Net Import Value and Net Export Value and format the axis to show the currency and tick marks.\r\nChange the axis scale to Reversed for Net Import Value on the left. This will display and start the horizontal bar plot from the middle ground to the left.\r\nChange the Title per Figure 16 and include dynamic display of the year. This will change the Year to match the Year accordingly to the users adjustment of the filter.\r\nFigure 17 below shows the layout in Tableau for the horizontal Bar Plot.\r\n\r\n\r\n\r\nFigure 17: Final Bar Chart layout\r\n\r\n\r\n\r\n3.2.3 Create Horizontal Bar Chart for Total Import and Total Export\r\nCreate a Bar chart in a new worksheet\r\n\r\n\r\n\r\nFigure 18: Create Horizontal Bar plot for total export and import\r\n\r\n\r\n\r\nRepeat steps 9 and 10 in sub-section 3.1.1 to include the same Filters and Pages.\r\nAdd Measure Values to Columns and Measure Names to Rows.\r\nFilter the Measure Names to include only dExport and dImport.\r\nAdd the sum of dExport and dImport into the Measure Values\r\nThis will create a stacked bar chart to show the total import and export values for the selected market in the year.\r\nAdd tooltip and include the following description boxed in orange.\r\nChange the x-axis to Trade Value and format it to be in Singapore Dollars in Billions.\r\nChange the Title per Figure 18 and include dynamic display of the year. This will change the Year to match the Year accordingly to the users adjustment of the filter.\r\n3.2.4 Create Dashboard\r\nCreate a new Dashboard.\r\n\r\n\r\n\r\nFigure 19: Dashboard wireframe\r\n\r\n\r\n\r\nSetup the wireframe for the dashboard by referring to Figure 19 and the following steps.\r\nChange the dashboard Size to Automatic boxed in red.\r\nCheck the option for Show dashboard title boxed in orange to display Title in section 1 of the wireframe.\r\nInsert Horizontal and Vertical objects as shown in Figure 19 for section 2 to 8.\r\n\r\nDrag and drop the bubble plot worksheet Trade Bubble to sub section 4 in Figure 19.\r\nDrag and drop the bar chart worksheet NE_NI to sub section 5 in Figure 19.\r\nDrag and drop the bar chart worksheet Total to sub section 6 in Figure 19.\r\nMove the global filter for date and markets to sub section 3.\r\nChange the Title of the dashboard.\r\nAdd subtitle to provide context for visualisation at sub section 2.\r\nAdd caption to include source and date of data at sub section 7.\r\nAdd footer to include the metadata definition and exclusion of data at sub section 8.\r\n\r\n\r\n\r\nFigure 20: Final Dashboard\r\n\r\n\r\n\r\nFigure 20 is the final template of the visualisation. The filters on the top right corner is able to control and toggle all 3 plots. To enhance the interactivity of the visualisation, actions is added to link the bubble plot to the individual market bar plot.\r\n\r\n\r\n\r\nFigure 21: Final Dashboard\r\n\r\n\r\n\r\nRefer to Figure 21 to add actions to the visualisation\r\nClick Dashboard in the toolbar and select Actions.\r\nIn the Actions menu, add action and select Highlight\r\nThis allows selection of markets in the bar plot to be automatically highlight the bubble plot markets and vice versa. 3, Uncheck the Total worksheet.\r\nThe Total worksheet is uncheck because the worksheet has no direct separation of information linked to the markets.\r\nThe final interactive visualisation is available on my Tableau Public page.\r\n\r\n\r\n\r\n\r\nThe interactive features of the visualisation are as follows:\r\nThe dropdown multiple selection filter for markets will update the entire visualisation by changing all 3 plots together.\r\nThe dropdown and slider filter for year will change the data and the year in the titles accordingly.\r\nHighlighting the bubble of each market will show the trail marks of the movement from 2011 to the user selected year.The highlighted markets will also be linked to the bar plot displaying the individual markets net export and net import value.\r\nHovering the cursor over the bubble plot will display the tooltip information on the market export, import and net import or export value in the particular year.\r\nHovering the cursor over the total export and import bar plot will display the tooltip information on the total export and import value of Singapore with the selected markets in the particular year.\r\n4.0 Insights from visualisation\r\nA positive trade balance is termed when Singapore export value is greater than import value with a country. This signifies an inflow of cash to Singapore from other markets Conversely, an negative trade balance is termed when Singapore import value is greater than export value with another market This signifies an outflow of cash from Singapore to the market.\r\nImport and export values are increasing over the years with China. Export grew from S$49B to S$71B and import grew from S$46B to S$65B from 2011 to 2020. China overtook Malaysia in total trade value in 2013 and has been Singapore’s largest trading partner up till 2020.\r\nSingapore maintain a high net export value with Hong Kong from the 2011 to 2020. This is mainly due to very low import value compared to a much higher proportion in export value.\r\nOn the contrary, the value of imports grew at a much faster pace than exports with Taiwan, increasing the net import value value in 2011 to 2020.\r\nExports fell drastically with Indonesia from S$57B to S$30B from 2011 to 2020. However, even with huge fall in export with Indonesia, Indonesia still maintains as an net exporter with Singapore.\r\nUnited States transited into a net exporter in 2020 after being a net importer from 2011 to 2019. This signifies that Singapore exported more to the United States in 2020.\r\nOver the past five years, Singapore has around S$40B in net exports annually. This positioned Singapore as an net exporter, signifying an inflow of cash to Singapore from other markets. This shows that Singapore balance of trade is in a trade surplus, which is important for Singapore economy who depends heavily on trade to be successful.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-06-12-dataviz-makeover-2/img/OG.jpg",
    "last_modified": "2021-06-17T15:21:30+08:00",
    "input_file": "dataviz-makeover-2.knit.md"
  },
  {
    "path": "posts/2021-05-22-dataviz-makeover-1/",
    "title": "DataViz Makeover 1",
    "description": "DataViz Makeover 1",
    "author": [
      {
        "name": "Yong Kai Lim",
        "url": "https://limyongkai.netlify.app/"
      }
    ],
    "date": "2021-05-29",
    "categories": [],
    "contents": "\r\nThe original Visualisation\r\nFigure 1 below shows the original visualisation for the top six trading countries with Singapore in 2019 to 2020 using the data provided by Department of Statistics, Singapore (DOS).\r\n\r\n\r\n\r\nFigure 1: Original Visualisation\r\n\r\n\r\n\r\n1. Critiques for the original visualisation\r\nBefore looking at the visualisation aesthetics and clarity, it is important to have a clear understanding of the context and objective of the visualisation.\r\nWhat does merchandise trade constitutes?\r\nMerchandise Trade is the combination of imports and exports.\r\nImports refers to goods brought into Singapore.\r\nExports refers to good brought out of Singapore.\r\n\r\nHow are the top six trading countries with Singapore selected?\r\nThey are selected based on their total summation of imports and exports for year 2020.\r\n\r\nHow do we measure merchandise trade?\r\nMerchandise trade is measured in Singapore Dollars (S$).\r\n\r\n1.1 Clarity of Visualisation\r\nClarity is the visualisation “Fit”: How the visualisation matches and tell reality.\r\n1.1.1 Good points in the visualisation to be kept\r\nPlotting the graph over time provides temporal information.\r\nGraph was plotted with “Export” and “Import” data.\r\n1.1.2 Areas to be improved\r\nTitle of visualisation did not mention who the six countries are trading with.\r\nSubtitle can be added to provide more context and information for the visualisation, such as how the top six countries are selected, which year is used for the calculation and the unit of measurements.\r\nLack of aggregated data that determined the ranking and selection of the top six countries.\r\nRanking of the countries could present valuable information for the visualisation.\r\nNo caption is included to reference the source of data.\r\nDifferent axis intervals and range giving the wrong visual perception:\r\nInter-plot x-axis intervals and range are different. Japan plot has a different time period as compared to the other countries.\r\nInter-plot y-axis intervals and range for import and exports are different, making it difficult to compare between the six countries.\r\nY-axis label is confusing. The “M” was not explained.\r\n\r\nMerchandise trade can be seasonal and it fluctuates heavily by month. A condensed time frame might be more useful for the visualiation.\r\n1.2 Aesthetics of Visualisation\r\nAesthetics is the visualisation “Form”: How the visualisation looks.\r\n1.2.1 Good points in the visualisation to be kept\r\nIndividual graph for each country allows comparison between the countries.\r\n1.2.2 Areas to be improved\r\nTitle alignment are inconsistent.\r\nMain title is skewed to the right.\r\nIndividual titles are skewed to the left.\r\nMain title font size is smaller than individual plots title.\r\n\r\nColor fill under the curve does not bring any value. Furthermore, the overlapping colors are confusing for readers to read and interpret.\r\nAnnotation can be added on the graphs to tell the story more effectively.\r\n2. Alternative Data Visualisation\r\nFrom Ben’s (Jones 2012) Data Visualisation chart of Clarity vs. Aesthetics shown in Figure 2, the current visualisation would fall under Quadrant III and the proposed visualisation would aim to be in Quadrant I.\r\n\r\n\r\n\r\nFigure 2: Aesthetics against Clarity chart\r\n\r\n\r\n\r\nTo improve the visualisation, the time series could be changed to yearly instead of monthly. Merchandise trade of each country fluctuates heavily and certain goods are seasonal. Utilising a monthly interval for the x-axis clutters the graph with the line plot peak and trough that might not provide useful information. Aggregating the data into years might be clearer for interpretation for the change over year.\r\nAn additional plot can be added to summarize and rank the top 6 countries. This plot displayed will include background information that the top six country are selected based on the total trade in 2020. The bar plot can also be arranged in descending order to showcase the ranking of the six countries.\r\n\r\n\r\n\r\nFigure 3: Sketch of alternative visualisation\r\n\r\n\r\n\r\nFigure 3 would be an alternative presentation of the visualisation.\r\nThe title will be renamed to provide more context to understand the visualisation.\r\nSubtitle will be added to provide background information on the context.\r\nThe line plot concept will be retained on the left of the visualisation.\r\nThe x-axis will be changed to year instead of months to aggregate the data.\r\nThe y-axis title to include the units of measurement (S$).\r\nLine plot to be stacked horizontally with same y-axis marks for comparison of trade value between the 6 countries.\r\nAdditional line of total trade (sum of import and export) to be included in the graph.\r\n\r\nAdditional horizontal bar plot to be added to the right of the visualisation.\r\nThe bar plot will indicate the total trade in 2020.\r\nInclude the title and context for the bar plot.\r\nOther than the 6 country, include an additional variable Others to group the remaining countries.\r\nChange the color for the bar plot to green to align to the line plot.\r\n\r\nInclude caption to indicate the dataset source and date.\r\nInclude footer if necessary to indicate any special information.\r\n3. Proposed Data Visualisation using Tableau\r\nThe dataset used was retrieved from Deparment of Statistics Singapore under the sub-section of Merchandise Trade by Region/Market.\r\nTableau Prep Builder 2021.1 software is used for data preparation and Tableau 2021.1 is used for data visualisation.\r\n3.1 Data Preparation\r\nUpload the dataset into Tableau Prep Builder.\r\n\r\n\r\n\r\nFigure 4: Load the Import worksheet\r\n\r\n\r\n\r\nRefer to Figure 4 to import the dataset by following the steps below.  1. Tick the box circled in red on the left. This option allows the Tableau Prep Builder to perform preliminary cleaning of the data.  2. Drag the T1 worksheet in orange into the middle box.  3. Change the name in green to Import.  4. Click the + button and create a Clean Step node in purple.\r\n\r\n\r\n\r\nFigure 5: Exclude the rows for regions\r\n\r\n\r\n\r\nRefer to Figure 5 to exclude the rows for regions and total imports by following the steps below.  1. Select the first 7 rows (Total Merchandise Imports, America, Asia, Europe, Oceania, Africa, European Union) in red from the Variables column and click the Exclude button in orange. \r\n\r\n\r\n\r\nFigure 6: Pivot Date into row\r\n\r\n\r\n\r\nRefer to Figure 6 to pivot the Months from the columns into rows.  1. Select the + button and create a Pivot node in red.  2. Drag all the months column header and drop to the Pivoted Fields section as per the orange arrow.  3. Rename the column headers to Date, Import and Country accordingly in blue box.  4. Change the data type of Date column to Date in green.\r\n\r\n\r\n\r\nFigure 7: Clean column header and label data type\r\n\r\n\r\n\r\nRefer to Figure 7 to aggregrate the import by year  1. Select the + button and create an Aggregate node in red.  2. Drag column Country and Date and drop them in Grouped Fields as per the orange arrow.  3. Drag column Import and drop it in Aggregated Fields as per the green arrow to aggregate the sum of import by year.  3. Group the column Date by Year following the steps in the blue boxes. \r\nRepeat the steps from Figure 4 to Figure 7 for Export using the T2 worksheet.\r\n\r\n\r\n\r\nFigure 8: Join both tables\r\n\r\n\r\n\r\nRefer to Figure 8 to Join both table  1. Drag the Aggregate 3 node from T2 flow to the + button on the right of T1 flow as shown in the red arrow in Figure 8.  2. Add two Applied Join Clauses to match variables Date and Country shown in orange box.  3. Select the Join Type to full in the green box to include all countries into the final list.  4. Select the columns Country(Country-1) and Date(Date-1) and Remove Fields in the blue box. These are duplicate or repeated columns after performing the Join.\r\n\r\n\r\n\r\nFigure 9: Create new column for total sum of export and import\r\n\r\n\r\n\r\nRefer to Figure 9 to create new column for total sum of export and import  1. Select the Create Calculated Field button in red.  2. Change the Field Name to Total in orange.  3. Input the equation of [Export] + [Import] in green and save the new column. \r\n\r\n\r\n\r\nFigure 10: Pivot the Export, Import and Total columns\r\n\r\n\r\n\r\nRefer to Figure 10 to Pivot the columns  1. Create a new Pivot node in the red box.  2. Drag and drop the columns Export, Import and Total into the Pivoted Fields in orange. \r\n\r\n\r\n\r\nFigure 11: Output into csv\r\n\r\n\r\n\r\nRefer to Figure 11 to Ouput file into csv  1. Create a new Ouput node in the red box.  2. Select the Browse button to change the directory and filename and change the Output type to Comma Separated Values (.csv) in orange. \r\n3.2 Data Visualisation\r\nThe data prepared earlier is uploaded into Tableau for Visualisation.\r\n3.2.1 Create line plot for the 6 countries\r\nThe data contains all countries that trades with Singapore from 1976 to 2021. Hence, the columns Year and Country is added to the Filter section on the worksheet to align with the original visualisation parameters. Refer to step 1 and 2 together with Figure 12 to filter the 6 countries for 2019 and 2020. \r\n\r\n\r\n\r\nFigure 12: Filter the Country and Year\r\n\r\n\r\n\r\nFilter Year to select 2019 and 2020. \r\nFilter Country to select the 6 countries, Mainland China, Malaysia, United States, Taiwan, Hong Kong and Japan. \r\n\r\n\r\n\r\nFigure 13: Dual axis and sychronize of dual y-axis\r\n\r\n\r\n\r\nCreate line plot by adding Country and Date to the Columns section and two Trade value node to Rows section.\r\nSet one Trade value to a Line graph and the other Trade value to a Shape type. Right click the second node and select Dual Axis and Synchronize the secondary y-axis as in Figure 13. This allows the graph aesthetics to be more customisable with the size and shape.\r\nAdd the Trade type to the Color tab to separate into 3 lines: Export, Import and Total.\r\nChange the Total line color to green to signify the total summation of import and export.\r\nRight click the the secondary dual y-axis on the right and uncheck the Show Header option to remove the y-axis. As the secondary y-axis is of the same interval as the primary y-axis on the left, there is no value is displaying it.\r\nRename the y-axis to Trade Value (S$).\r\nChange the Title of the graph to Merchandise Trade of Top Six Trading Countries with Singapore from 2019 to 2020, (S$).\r\n\r\n\r\n\r\nFigure 14: Creating dummy variables and annotate YoY\r\n\r\n\r\n\r\nAnnotate the Year-on-Year change from 2019 to 2020 on the Total line to show the change in percentage. The numbers is set to red to indicate negative growth and green to indicate positive growth. To allow repeatability in annotating the number and colors for the dashboard, five dummy variables are created as shown in Figure 14.\r\npercent+ and percent- to indicate the positive and negative growth year-on-year in percentage. The logic sequence is in subsection 1 in Figure 14.\r\narrow+ and arrow+ to show an upward pointing triangle for positive growth and downward pointing triangle for negative growth respectively. The logic sequence is in subsection 2 in Figure 14.\r\nVerb to output the word grew or fell depending if the year-on-year change is positive or negative respectively. The logic sequence is in subsection 3 in Figure 14.\r\nRight click the green circle for Total sales in 2020 and add Annotate -> Mark.\r\nInclude the annotation description in Figure 14 subsection 4. Change the color for positive change to green and negative change to red.\r\n\r\n\r\n\r\n\r\nFigure 15: Annotate unique insights\r\n\r\n\r\n\r\nAnnotate unique insights such as strong increase or decrease of the import or export on the graph. The annotation description is shown in Figure 15 and change the color similar to step 10 for Total change.\r\nThe final line plot is shown in Figure 16.\r\n\r\n\r\n\r\nFigure 16: Final line plot\r\n\r\n\r\n\r\n3.2.2 Create Bar Chart for the 6 countries in 2020\r\nCreate a Bar chart in a new worksheet\r\n\r\n\r\n\r\nFigure 17: Create new Variable for other countries\r\n\r\n\r\n\r\nRight click Country and Create a new Set as per the top left example in Figure 17.\r\nName the set top6country and select the 6 countries from the list as per the top right example in Figure 17.\r\nIn the Analysis toolbar, select Create Calculated Field.\r\nEnter the logic sequence shown at the bottom of Figure 17 and name the variable Others. This creates a new variable where the 6 countries are named as usual and the other countries will be combined into the dummy variable called Others.\r\nFilter Date variable to show only 2020.\r\nFilter Trade type to show only Total.\r\nInsert variable Others to the Rows and Trade Value to the Columns on the bar chart worksheet.\r\nInsert Others to the Color and Trade Value to Label and change the calculation to Percent of Total. This shows the proportion of total trade value for each country over Singapore’s total trade value in 2020.\r\nEdit the bar colors to green to align to the Line plot Total color. Set the Others to grey color to better differentiate the countries apart.\r\nChange the Title to Total Merchandise Trade of Singapore in 2020, (S$).\r\nChange the x-axis title to Trade Value (S$).\r\n\r\n\r\n\r\nFigure 18: Final Bar Chart (2020)\r\n\r\n\r\n\r\n3.2.3 Create Dashboard\r\nCreate a new Dashboard.\r\n\r\n\r\n\r\nFigure 19: Dashboard wireframe\r\n\r\n\r\n\r\nSetup the wireframe for the dashboard by referring to Figure 19 and the following steps.\r\nChange the dashboard Size to Automatic boxed in red in Figure 19.\r\nCheck the option for Show dashboard title boxed in red to display the Title in Figure 19 subsection 1.\r\nInsert Horizontal and Vertical objects as shown in Figure 19 for section 2 to 6.\r\n\r\nDrag and drop the line plot worksheet Trade to sub section 3 in Figure 19.\r\nChange line plot Legend to floating and re-position it on top of the line plot.\r\nDrag and drop the bar chart worksheet BarChart2020 to sub section 4 in Figure 19.\r\nRemove the Legend container as the country name is represented on the y-axis.\r\nChange the Title of the dashboard\r\nAdd subtitle to provide context for visualisation.\r\nAdd caption to include source and date of data.\r\nAdd footer to include the metadata definition and exclusion of data.\r\n\r\n\r\n\r\nFigure 20: Final Dashboard\r\n\r\n\r\n\r\nThe final visualisation is available on my Tableau Public page.\r\n4.0 Insights from visualisation\r\nThere is a saying: “Statistics are like bikinis. What they reveal is suggestive, but what they conceal is vital.” Visualisation should be designed to be factual and clear for interpretation.\r\nA positive trade balance is termed when Singapore export value is greater than import value with a country. This signifies an inflow of cash to Singapore from the country. Conversely, an negative trade balance is termed when Singapore import value is greater than export value with a country. This signifies an outflow of cash from Singapore to the country.\r\nCOVID-19 was an unprecedented event in 2020 which led to countries locking down their cities or closing their borders globally and Singapore is no exception. Trade is integral to Singapore’s success and the decrease in trade activities in 2020 was a major impact on it’s growth. However, the makeover from the original visualisation showed meaningful insights for interpretation.\r\nThe total trade value with Malaysia fell 8.4% in 2020, the largest decrease among the six countries. The Import value with Malaysia was similar for 2020 whereas the Export value took a major hit and fell by 18.2% from 2019. This resulted in a negative trade balance with Malaysia in 2020.\r\nThe total trade with the United States marginally fell by 2.5%. However, there was a large change in Export (grew 19.2%) and Import (fell 18.9%) in 2020. In 2019, Singapore had a negative trade balance with the United States and it was the reversed in 2020 where there was a positive trade balance.\r\nTrade with Taiwan performed the best among the six countries where the total trade value grew by 13.0% in 2020. Both export and import grew significantly in 2020.\r\nHong Kong is the fifth largest trade country with Singapore among the six country. Interestingly, export value is much larger than import value where the exports value is around 90% of the total trade value.\r\nMainland China and Japan total trade value had marginal change. Imports and exports are also consistent and equal in 2020.\r\nThe top six countries total trade stands at around 57% of Singapore’s total trade in 2020.\r\nIn light of COVID-19 pandemic affecting countries economy, the changes in trade might be unique in 2020. A better representation would be to use a longer time frame to show the general trend of the trade value.\r\n\r\n\r\n\r\nJones, Ben. 2012. “Data Visualization: Clarity or Aesthetics?” 2012. https://dataremixed.com/2012/05/data-visualization-clarity-or-aesthetics/.\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-05-22-dataviz-makeover-1/img/org_visual.png",
    "last_modified": "2021-05-30T00:19:58+08:00",
    "input_file": "dataviz-makeover-1.knit.md",
    "preview_width": 3207,
    "preview_height": 1668
  },
  {
    "path": "posts/2021-05-22-my-1st-post/",
    "title": "My 1st Post",
    "description": "A short description of the post as per Session 3 of ISSS608 Visual Analytics module.",
    "author": [
      {
        "name": "Yong Kai Lim",
        "url": "https://limyongkai.netlify.app/"
      }
    ],
    "date": "2021-05-17",
    "categories": [],
    "contents": "\r\n1.0 Overview\r\nIn this article, we will show you how to plot a figure with multiple histograms by using ggplot2 and ggpubr packages.\r\n2.0 Installing and Launching R Packages\r\nBefore you get started, you are required:\r\nto start a new R project, and\r\nto create a new R Markdown document.\r\n\r\nTo insert a graph.\r\nBeautiful Picture from Tableau~Next, you will use the code chunk below to install and launch ggpubr and tidyverse in RStudio.\r\nR code\r\n\r\n\r\npackages = c('ggpubr', 'tidyverse')\r\n\r\nfor(p in packages){library\r\n  if(!require(p, character.only = T)){\r\n    install.packages(p)\r\n  }\r\n  library(p, character.only = T)\r\n}\r\n\r\n\r\n\r\n3.0 Importing and Preparing The Data Set\r\nIn this hands-on exercise, the Wine Quality Data Set of UCI Machine Learning Repository will be used. The data set consists of 13 variables and 6497 observations. For the purpose of this exercise, we have combined the red wine and white wine data into one data file. It is called wine_quality and is in csv file format.\r\n3.1 Importing Data\r\nFirst, let us import the data into R by using read_csv() of readr package.\r\nR code\r\n\r\n\r\nwine <- read_csv(\"data/wine_quality.csv\")\r\n\r\n\r\n\r\nNotice that beside quality and type, the rest of the variables are numerical and continuous data type.\r\n4.0 Univariate EDA with Histogram\r\nIn the figure below, multiple histograms are plottted by using ggplot() and geom_histogram() of ggplot2 package. Then, ggarrange() of ggpubr package is used to patch these histogram into a single figure to reveal the distribution of the selected variables in the wine quality data sets.\r\nRcode\r\n\r\n\r\nfa <- ggplot(data=wine, aes(x= `fixed acidity`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nva <- ggplot(data=wine, aes(x= `volatile acidity`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nca <- ggplot(data=wine, aes(x= `citric acid`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nrs <- ggplot(data=wine, aes(x= `residual sugar`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nch <- ggplot(data=wine, aes(x= `chlorides`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nfSO2 <- ggplot(data=wine, aes(x= `free sulfur dioxide`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\ntSO2 <- ggplot(data=wine, aes(x= `total sulfur dioxide`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\ndensity <- ggplot(data=wine, aes(x= density)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\npH <- ggplot(data=wine, aes(x= pH)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nsulphates <- ggplot(data=wine, aes(x= sulphates)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nalcohol <- ggplot(data=wine, aes(x= alcohol)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\n\r\nggarrange(fa, va, ca, rs, ch, fSO2, tSO2, density, pH, sulphates, alcohol, \r\n          ncol = 4, nrow = 3)\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-05-29T23:55:11+08:00",
    "input_file": {}
  }
]
