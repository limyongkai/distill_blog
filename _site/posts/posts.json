[
  {
    "path": "posts/2021-05-22-dataviz-makeover-1/",
    "title": "DataViz Makeover 1",
    "description": "DataViz Makeover 1",
    "author": [
      {
        "name": "Yong Kai Lim",
        "url": "https://limyongkai.netlify.app/"
      }
    ],
    "date": "2021-05-29",
    "categories": [],
    "contents": "\r\nThe original Visualisation\r\nFigure 1 below shows the original visualisation for the top six trading countries with Singapore in 2019 to 2020 using the data provided by Department of Statistics, Singapore (DOS).\r\n\r\n\r\n\r\nFigure 1: Original Visualisation\r\n\r\n\r\n\r\n1. Critiques for the original visualisation\r\nBefore looking at the visualisation aesthetics and clarity, it is important to have a clear understanding of the context and objective of the visualisation.\r\nWhat does merchandise trade constitutes?\r\nMerchandise Trade is the combination of imports and exports.\r\nImports refers to goods brought into Singapore.\r\nExports refers to good brought out of Singapore.\r\n\r\nHow are the top six trading countries with Singapore selected?\r\nThey are selected based on their total summation of imports and exports for year 2020.\r\n\r\nHow do we measure merchandise trade?\r\nMerchandise trade is measured in Singapore Dollars (S$).\r\n\r\n1.1 Clarity of Visualisation\r\nClarity is the visualisation “Fit”: How the visualisation matches and tell reality.\r\n1.1.1 Good points in the visualisation to be kept\r\nPlotting the graph over time provides temporal information.\r\nGraph was plotted with “Export” and “Import” data.\r\n1.1.2 Areas to be improved\r\nTitle of visualisation did not mention who the six countries are trading with.\r\nSubtitle can be added to provide more context and information for the visualisation, such as how the top six countries are selected, which year is used for the calculation and the unit of measurements.\r\nLack of aggregated data that determined the ranking and selection of the top six countries.\r\nRanking of the countries could present valuable information for the visualisation.\r\nNo caption is included to reference the source of data.\r\nDifferent axis intervals and range giving the wrong visual perception:\r\nInter-plot x-axis intervals and range are different. Japan plot has a different time period as compared to the other countries.\r\nInter-plot y-axis intervals and range for import and exports are different, making it difficult to compare between the six countries.\r\nY-axis label is confusing. The “M” was not explained.\r\n\r\nMerchandise trade can be seasonal and it fluctuates heavily by month. A condensed time frame might be more useful for the visualiation.\r\n1.2 Aesthetics of Visualisation\r\nAesthetics is the visualisation “Form”: How the visualisation looks.\r\n1.2.1 Good points in the visualisation to be kept\r\nIndividual graph for each country allows comparison between the countries.\r\n1.2.2 Areas to be improved\r\nTitle alignment are inconsistent.\r\nMain title is skewed to the right.\r\nIndividual titles are skewed to the left.\r\nMain title font size is smaller than individual plots title.\r\n\r\nColor fill under the curve does not bring any value. Furthermore, the overlapping colors are confusing for readers to read and interpret.\r\nAnnotation can be added on the graphs to tell the story more effectively.\r\n2. Alternative Data Visualisation\r\nFrom Ben’s (Jones 2012) Data Visualisation chart of Clarity vs. Aesthetics shown in Figure 2, the current visualisation would fall under Quadrant III and the proposed visualisation would aim to be in Quadrant I.\r\n\r\n\r\n\r\nFigure 2: Aesthetics against Clarity chart\r\n\r\n\r\n\r\nTo improve the visualisation, the time series could be changed to yearly instead of monthly. Merchandise trade of each country fluctuates heavily and certain goods are seasonal. Utilising a monthly interval for the x-axis clutters the graph with the line plot peak and trough that might not provide useful information. Aggregating the data into years might be clearer for interpretation for the change over year.\r\nAn additional plot can be added to summarize and rank the top 6 countries. This plot displayed will include background information that the top six country are selected based on the total trade in 2020. The bar plot can also be arranged in descending order to showcase the ranking of the six countries.\r\n\r\n\r\n\r\nFigure 3: Sketch of alternative visualisation\r\n\r\n\r\n\r\nFigure 3 would be an alternative presentation of the visualisation.\r\nThe title will be renamed to provide more context to understand the visualisation.\r\nSubtitle will be added to provide background information on the context.\r\nThe line plot concept will be retained on the left of the visualisation.\r\nThe x-axis will be changed to year instead of months to aggregate the data.\r\nThe y-axis title to include the units of measurement (S$).\r\nLine plot to be stacked horizontally with same y-axis marks for comparison of trade value between the 6 countries.\r\nAdditional line of total trade (sum of import and export) to be included in the graph.\r\n\r\nAdditional horizontal bar plot to be added to the right of the visualisation.\r\nThe bar plot will indicate the total trade in 2020.\r\nInclude the title and context for the bar plot.\r\nOther than the 6 country, include an additional variable Others to group the remaining countries.\r\nChange the color for the bar plot to green to align to the line plot.\r\n\r\nInclude caption to indicate the dataset source and date.\r\nInclude footer if necessary to indicate any special information.\r\n3. Proposed Data Visualisation using Tableau\r\nThe dataset used was retrieved from Deparment of Statistics Singapore under the sub-section of Merchandise Trade by Region/Market.\r\nTableau Prep Builder 2021.1 software is used for data preparation and Tableau 2021.1 is used for data visualisation.\r\n3.1 Data Preparation\r\nUpload the dataset into Tableau Prep Builder.\r\n\r\n\r\n\r\nFigure 4: Load the Import worksheet\r\n\r\n\r\n\r\nRefer to Figure 4 to import the dataset by following the steps below.  1. Tick the box circled in red on the left. This option allows the Tableau Prep Builder to perform preliminary cleaning of the data.  2. Drag the T1 worksheet in orange into the middle box.  3. Change the name in green to Import.  4. Click the + button and create a Clean Step node in purple.\r\n\r\n\r\n\r\nFigure 5: Exclude the rows for regions\r\n\r\n\r\n\r\nRefer to Figure 5 to exclude the rows for regions and total imports by following the steps below.  1. Select the first 7 rows (Total Merchandise Imports, America, Asia, Europe, Oceania, Africa, European Union) in red from the Variables column and click the Exclude button in orange. \r\n\r\n\r\n\r\nFigure 6: Pivot Date into row\r\n\r\n\r\n\r\nRefer to Figure 6 to pivot the Months from the columns into rows.  1. Select the + button and create a Pivot node in red.  2. Drag all the months column header and drop to the Pivoted Fields section as per the orange arrow.  3. Rename the column headers to Date, Import and Country accordingly in blue box.  4. Change the data type of Date column to Date in green.\r\n\r\n\r\n\r\nFigure 7: Clean column header and label data type\r\n\r\n\r\n\r\nRefer to Figure 7 to aggregrate the import by year  1. Select the + button and create an Aggregate node in red.  2. Drag column Country and Date and drop them in Grouped Fields as per the orange arrow.  3. Drag column Import and drop it in Aggregated Fields as per the green arrow to aggregate the sum of import by year.  3. Group the column Date by Year following the steps in the blue boxes. \r\nRepeat the steps from Figure 4 to Figure 7 for Export using the T2 worksheet.\r\n\r\n\r\n\r\nFigure 8: Join both tables\r\n\r\n\r\n\r\nRefer to Figure 8 to Join both table  1. Drag the Aggregate 3 node from T2 flow to the + button on the right of T1 flow as shown in the red arrow in Figure 8.  2. Add two Applied Join Clauses to match variables Date and Country shown in orange box.  3. Select the Join Type to full in the green box to include all countries into the final list.  4. Select the columns Country(Country-1) and Date(Date-1) and Remove Fields in the blue box. These are duplicate or repeated columns after performing the Join.\r\n\r\n\r\n\r\nFigure 9: Create new column for total sum of export and import\r\n\r\n\r\n\r\nRefer to Figure 9 to create new column for total sum of export and import  1. Select the Create Calculated Field button in red.  2. Change the Field Name to Total in orange.  3. Input the equation of [Export] + [Import] in green and save the new column. \r\n\r\n\r\n\r\nFigure 10: Pivot the Export, Import and Total columns\r\n\r\n\r\n\r\nRefer to Figure 10 to Pivot the columns  1. Create a new Pivot node in the red box.  2. Drag and drop the columns Export, Import and Total into the Pivoted Fields in orange. \r\n\r\n\r\n\r\nFigure 11: Output into csv\r\n\r\n\r\n\r\nRefer to Figure 11 to Ouput file into csv  1. Create a new Ouput node in the red box.  2. Select the Browse button to change the directory and filename and change the Output type to Comma Separated Values (.csv) in orange. \r\n3.2 Data Visualisation\r\nThe data prepared earlier is uploaded into Tableau for Visualisation.\r\n3.2.1 Create line plot for the 6 countries\r\nThe data contains all countries that trades with Singapore from 1976 to 2021. Hence, the columns Year and Country is added to the Filter section on the worksheet to align with the original visualisation parameters. Refer to step 1 and 2 together with Figure 12 to filter the 6 countries for 2019 and 2020. \r\n\r\n\r\n\r\nFigure 12: Filter the Country and Year\r\n\r\n\r\n\r\nFilter Year to select 2019 and 2020. \r\nFilter Country to select the 6 countries, Mainland China, Malaysia, United States, Taiwan, Hong Kong and Japan. \r\n\r\n\r\n\r\nFigure 13: Dual axis and sychronize of dual y-axis\r\n\r\n\r\n\r\nCreate line plot by adding Country and Date to the Columns section and two Trade value node to Rows section.\r\nSet one Trade value to a Line graph and the other Trade value to a Shape type. Right click the second node and select Dual Axis and Synchronize the secondary y-axis as in Figure 13. This allows the graph aesthetics to be more customisable with the size and shape.\r\nAdd the Trade type to the Color tab to separate into 3 lines: Export, Import and Total.\r\nChange the Total line color to green to signify the total summation of import and export.\r\nRight click the the secondary dual y-axis on the right and uncheck the Show Header option to remove the y-axis. As the secondary y-axis is of the same interval as the primary y-axis on the left, there is no value is displaying it.\r\nRename the y-axis to Trade Value (S$).\r\nChange the Title of the graph to Merchandise Trade of Top Six Trading Countries with Singapore from 2019 to 2020, (S$).\r\n\r\n\r\n\r\nFigure 14: Creating dummy variables and annotate YoY\r\n\r\n\r\n\r\nAnnotate the Year-on-Year change from 2019 to 2020 on the Total line to show the change in percentage. The numbers is set to red to indicate negative growth and green to indicate positive growth. To allow repeatability in annotating the number and colors for the dashboard, five dummy variables are created as shown in Figure 14.\r\npercent+ and percent- to indicate the positive and negative growth year-on-year in percentage. The logic sequence is in subsection 1 in Figure 14.\r\narrow+ and arrow+ to show an upward pointing triangle for positive growth and downward pointing triangle for negative growth respectively. The logic sequence is in subsection 2 in Figure 14.\r\nVerb to output the word grew or fell depending if the year-on-year change is positive or negative respectively. The logic sequence is in subsection 3 in Figure 14.\r\nRight click the green circle for Total sales in 2020 and add Annotate -> Mark.\r\nInclude the annotation description in Figure 14 subsection 4. Change the color for positive change to green and negative change to red.\r\n\r\n\r\n\r\n\r\nFigure 15: Annotate unique insights\r\n\r\n\r\n\r\nAnnotate unique insights such as strong increase or decrease of the import or export on the graph. The annotation description is shown in Figure 15 and change the color similar to step 10 for Total change.\r\nThe final line plot is shown in Figure 16.\r\n\r\n\r\n\r\nFigure 16: Final line plot\r\n\r\n\r\n\r\n3.2.2 Create Bar Chart for the 6 countries in 2020\r\nCreate a Bar chart in a new worksheet\r\n\r\n\r\n\r\nFigure 17: Create new Variable for other countries\r\n\r\n\r\n\r\nRight click Country and Create a new Set as per the top left example in Figure 17.\r\nName the set top6country and select the 6 countries from the list as per the top right example in Figure 17.\r\nIn the Analysis toolbar, select Create Calculated Field.\r\nEnter the logic sequence shown at the bottom of Figure 17 and name the variable Others. This creates a new variable where the 6 countries are named as usual and the other countries will be combined into the dummy variable called Others.\r\nFilter Date variable to show only 2020.\r\nFilter Trade type to show only Total.\r\nInsert variable Others to the Rows and Trade Value to the Columns on the bar chart worksheet.\r\nInsert Others to the Color and Trade Value to Label and change the calculation to Percent of Total. This shows the proportion of total trade value for each country over Singapore’s total trade value in 2020.\r\nEdit the bar colors to green to align to the Line plot Total color. Set the Others to grey color to better differentiate the countries apart.\r\nChange the Title to Total Merchandise Trade of Singapore in 2020, (S$).\r\nChange the x-axis title to Trade Value (S$).\r\n\r\n\r\n\r\nFigure 18: Final Bar Chart (2020)\r\n\r\n\r\n\r\n3.2.3 Create Dashboard\r\nCreate a new Dashboard.\r\n\r\n\r\n\r\nFigure 19: Dashboard wireframe\r\n\r\n\r\n\r\nSetup the wireframe for the dashboard by referring to Figure 19 and the following steps.\r\nChange the dashboard Size to Automatic boxed in red in Figure 19.\r\nCheck the option for Show dashboard title boxed in red to display the Title in Figure 19 subsection 1.\r\nInsert Horizontal and Vertical objects as shown in Figure 19 for section 2 to 6.\r\n\r\nDrag and drop the line plot worksheet Trade to sub section 3 in Figure 19.\r\nChange line plot Legend to floating and re-position it on top of the line plot.\r\nDrag and drop the bar chart worksheet BarChart2020 to sub section 4 in Figure 19.\r\nRemove the Legend container as the country name is represented on the y-axis.\r\nChange the Title of the dashboard\r\nAdd subtitle to provide context for visualisation.\r\nAdd caption to include source and date of data.\r\nAdd footer to include the metadata definition and exclusion of data.\r\n\r\n\r\n\r\nFigure 20: Final Dashboard\r\n\r\n\r\n\r\nThe final visualisation is available on my Tableau Public page.\r\n4.0 Insights from visualisation\r\nThere is a saying: “Statistics are like bikinis. What they reveal is suggestive, but what they conceal is vital.” Visualisation should be designed to be factual and clear for interpretation.\r\nA positive trade balance is termed when Singapore export value is greater than import value with a country. This signifies an inflow of cash to Singapore from the country. Conversely, an negative trade balance is termed when Singapore import value is greater than export value with a country. This signifies an outflow of cash from Singapore to the country.\r\nCOVID-19 was an unprecedented event in 2020 which led to countries locking down their cities or closing their borders globally and Singapore is no exception. Trade is integral to Singapore’s success and the decrease in trade activities in 2020 was a major impact on it’s growth. However, the makeover from the original visualisation showed meaningful insights for interpretation.\r\nThe total trade value with Malaysia fell 8.4% in 2020, the largest decrease among the six countries. The Import value with Malaysia was similar for 2020 whereas the Export value took a major hit and fell by 18.2% from 2019. This resulted in a negative trade balance with Malaysia in 2020.\r\nThe total trade with the United States marginally fell by 2.5%. However, there was a large change in Export (grew 19.2%) and Import (fell 18.9%) in 2020. In 2019, Singapore had a negative trade balance with the United States and it was the reversed in 2020 where there was a positive trade balance.\r\nTrade with Taiwan performed the best among the six countries where the total trade value grew by 13.0% in 2020. Both export and import grew significantly in 2020.\r\nHong Kong is the fifth largest trade country with Singapore among the six country. Interestingly, export value is much larger than import value where the exports value is around 90% of the total trade value.\r\nMainland China and Japan total trade value had marginal change. Imports and exports are also consistent and equal in 2020.\r\nThe top six countries total trade stands at around 57% of Singapore’s total trade in 2020.\r\nIn light of COVID-19 pandemic affecting countries economy, the changes in trade might be unique in 2020. A better representation would be to use a longer time frame to show the general trend of the trade value.\r\n\r\n\r\n\r\nJones, Ben. 2012. “Data Visualization: Clarity or Aesthetics?” 2012. https://dataremixed.com/2012/05/data-visualization-clarity-or-aesthetics/.\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-05-22-dataviz-makeover-1/img/org_visual.png",
    "last_modified": "2021-05-30T00:19:58+08:00",
    "input_file": "dataviz-makeover-1.knit.md",
    "preview_width": 3207,
    "preview_height": 1668
  },
  {
    "path": "posts/2021-05-22-my-1st-post/",
    "title": "My 1st Post",
    "description": "A short description of the post as per Session 3 of ISSS608 Visual Analytics module.",
    "author": [
      {
        "name": "Yong Kai Lim",
        "url": "https://limyongkai.netlify.app/"
      }
    ],
    "date": "2021-05-17",
    "categories": [],
    "contents": "\r\n1.0 Overview\r\nIn this article, we will show you how to plot a figure with multiple histograms by using ggplot2 and ggpubr packages.\r\n2.0 Installing and Launching R Packages\r\nBefore you get started, you are required:\r\nto start a new R project, and\r\nto create a new R Markdown document.\r\n\r\nTo insert a graph.\r\nBeautiful Picture from Tableau~Next, you will use the code chunk below to install and launch ggpubr and tidyverse in RStudio.\r\nR code\r\n\r\n\r\npackages = c('ggpubr', 'tidyverse')\r\n\r\nfor(p in packages){library\r\n  if(!require(p, character.only = T)){\r\n    install.packages(p)\r\n  }\r\n  library(p, character.only = T)\r\n}\r\n\r\n\r\n\r\n3.0 Importing and Preparing The Data Set\r\nIn this hands-on exercise, the Wine Quality Data Set of UCI Machine Learning Repository will be used. The data set consists of 13 variables and 6497 observations. For the purpose of this exercise, we have combined the red wine and white wine data into one data file. It is called wine_quality and is in csv file format.\r\n3.1 Importing Data\r\nFirst, let us import the data into R by using read_csv() of readr package.\r\nR code\r\n\r\n\r\nwine <- read_csv(\"data/wine_quality.csv\")\r\n\r\n\r\n\r\nNotice that beside quality and type, the rest of the variables are numerical and continuous data type.\r\n4.0 Univariate EDA with Histogram\r\nIn the figure below, multiple histograms are plottted by using ggplot() and geom_histogram() of ggplot2 package. Then, ggarrange() of ggpubr package is used to patch these histogram into a single figure to reveal the distribution of the selected variables in the wine quality data sets.\r\nRcode\r\n\r\n\r\nfa <- ggplot(data=wine, aes(x= `fixed acidity`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nva <- ggplot(data=wine, aes(x= `volatile acidity`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nca <- ggplot(data=wine, aes(x= `citric acid`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nrs <- ggplot(data=wine, aes(x= `residual sugar`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nch <- ggplot(data=wine, aes(x= `chlorides`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nfSO2 <- ggplot(data=wine, aes(x= `free sulfur dioxide`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\ntSO2 <- ggplot(data=wine, aes(x= `total sulfur dioxide`)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\ndensity <- ggplot(data=wine, aes(x= density)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\npH <- ggplot(data=wine, aes(x= pH)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nsulphates <- ggplot(data=wine, aes(x= sulphates)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\nalcohol <- ggplot(data=wine, aes(x= alcohol)) +\r\n  geom_histogram(bins=20, color=\"black\", fill=\"light blue\")\r\n\r\nggarrange(fa, va, ca, rs, ch, fSO2, tSO2, density, pH, sulphates, alcohol, \r\n          ncol = 4, nrow = 3)\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-05-29T23:55:11+08:00",
    "input_file": {}
  }
]
