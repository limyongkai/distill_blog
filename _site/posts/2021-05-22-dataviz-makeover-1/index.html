<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Yong Kai: DataViz Makeover 1</title>

<meta property="description" itemprop="description" content="DataViz Makeover 1"/>

<link rel="canonical" href="https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/"/>
<link rel="icon" type="image/png" href="../../assets/img/test.png"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-05-29"/>
<meta property="article:created" itemprop="dateCreated" content="2021-05-29"/>
<meta name="article:author" content="Yong Kai Lim"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Yong Kai: DataViz Makeover 1"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="DataViz Makeover 1"/>
<meta property="og:url" content="https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/"/>
<meta property="og:image" content="https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/img/org_visual.png"/>
<meta property="og:image:width" content="3207"/>
<meta property="og:image:height" content="1668"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Yong Kai"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Yong Kai: DataViz Makeover 1"/>
<meta property="twitter:description" content="DataViz Makeover 1"/>
<meta property="twitter:url" content="https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/"/>
<meta property="twitter:image" content="https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/img/org_visual.png"/>
<meta property="twitter:image:width" content="3207"/>
<meta property="twitter:image:height" content="1668"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Yong Kai: DataViz Makeover 1"/>
<meta name="citation_fulltext_html_url" content="https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/"/>
<meta name="citation_online_date" content="2021/05/29"/>
<meta name="citation_publication_date" content="2021/05/29"/>
<meta name="citation_author" content="Yong Kai Lim"/>
<meta name="citation_author_institution" content="Singapore Management University"/>
<!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=Data visualization: Clarity or aesthetics?;citation_publication_date=2012;citation_author=Ben Jones"/>
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","bibliography","font-family","mainfont","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 1"]},{"type":"character","attributes":{},"value":["DataViz Makeover 1"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation"]}},"value":[{"type":"character","attributes":{},"value":["Yong Kai Lim"]},{"type":"character","attributes":{},"value":["https://limyongkai.netlify.app/"]},{"type":"character","attributes":{},"value":["Singapore Management University"]}]}]},{"type":"character","attributes":{},"value":["05-29-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","theme","font-size"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["lumen"]},{"type":"character","attributes":{},"value":["48px"]}]}]},{"type":"character","attributes":{},"value":["references.bib"]},{"type":"character","attributes":{},"value":["sans serif"]},{"type":"character","attributes":{},"value":["\\usepackage[T1]{fontenc}"]},{"type":"character","attributes":{},"value":["https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/"]},{"type":"character","attributes":{},"value":["https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-1_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-1_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-1_files/distill-2.2.21/template.v2.js","dataviz-makeover-1_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-1_files/popper-2.6.0/popper.min.js","dataviz-makeover-1_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-1_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-1_files/tippy-6.2.7/tippy.css","dataviz-makeover-1_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-1_files/webcomponents-2.0.0/webcomponents.js","img/clarity_aesthetics_chart.jpg","img/dataprep/import_step1.PNG","img/dataprep/import_step2.PNG","img/dataprep/import_step21.PNG","img/dataprep/import_step3.PNG","img/dataprep/import_step4.PNG","img/dataprep/import_step5.png","img/dataprep/import_step51.PNG","img/dataprep/import_step6.PNG","img/dataprep/import_step61.PNG","img/dataprep/import_step71.PNG","img/dataprep/import_step81.PNG","img/dataviz/barchart-1.PNG","img/dataviz/barchart-2.PNG","img/dataviz/dashboard-1.PNG","img/dataviz/dashboard-2.png","img/dataviz/filter.PNG","img/dataviz/lineplot-1.PNG","img/dataviz/lineplot-2.png","img/dataviz/lineplot-2_2.PNG","img/dataviz/lineplot-3.PNG","img/dataviz/lineplot-4.PNG","img/dataviz/lineplot.PNG","img/dataviz/sketch.jpg","img/org_visual.png","outputFile.xlsx","references.bib"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">@import url('https://fonts.googleapis.com/css2?family=Fira+Mono&family=IBM+Plex+Mono&family=IBM+Plex+Sans&family=IBM+Plex+Serif:ital,wght@1,600&family=Lato&display=swap');

/* Nord */
/*
 * Copyright (c) 2016-present Arctic Ice Studio <development@arcticicestudio.com>
 * Copyright (c) 2016-present Sven Greb <development@svengreb.de>
 *
 * Project:    Nord
 * Version:    0.2.0
 * Repository: https://github.com/arcticicestudio/nord
 * License:    MIT
 * References:
 *   https://www.w3.org/TR/css-variables
 *   https://www.w3.org/TR/selectors/#root-pseudo
 *   https://drafts.csswg.org/css-variables
 *   https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables
 *   http://warpspire.com/kss
 *   https://github.com/kss-node/kss-node
 */


:root {
  /*
  Base component color of "Polar Night".
  Used for texts, backgrounds, carets and structuring characters like curly- and square brackets.
  */
  --nord0: #2e3440;
  /*
  Lighter shade color of the base component color.
  Used as a lighter background color for UI elements like status bars.
  */
  --nord1: #3b4252;
  /*
  Lighter shade color of the base component color.
  Used as line highlighting in the editor.
  In the UI scope it may be used as selection- and highlight color.
  */
  --nord2: #434c5e;
  /*
  Lighter shade color of the base component color.
  Used for comments, invisibles, indent- and wrap guide marker.
  In the UI scope used as pseudoclass color for disabled elements.
  */
  --nord3: #4c566a;
  /*
  Base component color of "Snow Storm".
  Main color for text, variables, constants and attributes.
  In the UI scope used as semi-light background depending on the theme shading design.
  */
  --nord4: #d8dee9;
  /*
  Lighter shade color of the base component color.
  Used as a lighter background color for UI elements like status bars.
  Used as semi-light background depending on the theme shading design.
  */
  --nord5: #e5e9f0;
  /*
  Lighter shade color of the base component color.
  Used for punctuations, carets and structuring characters like curly- and square brackets.
  In the UI scope used as background, selection- and highlight color depending on the theme shading design.
  */
  --nord6: #eceff4;
  /*
  Bluish core color.
  Used for classes, types and documentation tags.
  */
  --nord7: #8fbcbb;
  /*
  Bluish core accent color.
  Represents the accent color of the color palette.
  Main color for primary UI elements and methods/functions.
  Can be used for
    - Markup quotes
    - Markup link URLs
  */
  --nord8: #88c0d0;
  /*
  Bluish core color.
  Used for language-specific syntactic/reserved support characters and keywords, operators, tags, units and
  punctuations like (semi)colons,commas and braces.
  */
  --nord9: #81a1c1;
  /*
  Bluish core color.
  Used for markup doctypes, import/include/require statements, pre-processor statements and at-rules (`@`).
  */
  --nord10: #5e81ac;
  /*
  Colorful component color.
  Used for errors, git/diff deletion and linter marker.
  */
  --nord11: #bf616a;
  /*
  Colorful component color.
  Used for annotations.
  */
  --nord12: #d08770;
  /*
  Colorful component color.
  Used for escape characters, regular expressions and markup entities.
  In the UI scope used for warnings and git/diff renamings.
  */
  --nord13: #ebcb8b;
  /*
  Colorful component color.
  Main color for strings and attribute values.
  In the UI scope used for git/diff additions and success visualizations.
  */
  --nord14: #a3be8c;
  /*
  Colorful component color.
  Used for numbers.
  */
  --nord15: #b48ead;
}


/* Theme */
:root {
  --primary: #388e00;
}

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      var(--nord0);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    'IBM Plex Sans', sans-serif;
  --mono-font:       'IBM Plex Mono', monospace;
  --body-font:       'IBM Plex Sans', sans-serif;
  --navbar-font:     'IBM Plex Sans', serif; /* websites + blogs only */
}

/*-- Main section --*/
d-article,
d-appendix,
body {
  background-color: var(--nord5);
  color: var(--nord0);
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       28px;
  --text-color:       rgba(0, 0, 0, 0.8);
  --text-size:        28px;
  --hover-color:      var(--primary);
  --bkgd-color:       rgba(210, 210, 210, 0.8); #0F2E3D; */
}
.distill-site-header .logo img {
   max-height: 28px;
   width: auto;
   margin-top: 5px;
   margin-bottom: : 1px;
}
.distill-site-footer {
  --text-color:       rgba(0, 0, 0, 0.6);
  --text-size:        15px;
  --hover-color:      var(--primary);
  --bkgd-color:       rgba(210, 210, 210, 0.8);
}

.distill-site-footer a {
  text-decoration: underline;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

.profile {
    text-align: center;
    padding: 30px 10px;
    position: relative;
}

.profile .profile-circle{
  border-radius: 50%;
  width: 270px;
  height: 270px;
  margin: 0 auto;
  object-fit: cover;
}

.profile a {
  text-decoration: none;
  border-style: none;
}

.profile a, .footer a {
  font-size: 2rem;
}

a, i, svg {
  transition: all .2s ease-in-out;
}

.profile a:hover {
  transform: scale(1.2);
  color: var(--primary);
  border-style: none;
}

.profile svg:hover {
  transform: scale(1.2);
  color: var(--primary);
  border-style: none;
}


/* Code */
d-article div.sourceCode {
  background-color: var(--nord5);
}


/* Code Folding by Thomas Mock https://themockup.blog/about.html */
details {
  background-color: hsla(60, 7%, 80%, 0.2);
  cursor: pointer;
  color: #2d2d2d;
  margin-bottom:1vh;
  padding: 1em;
  border: none;
  text-align: left;
  outline: none;
}


.active, details:hover {
  transition: max-height 0.2s ease-out;
}

details {
  display: flex;
  justify-content: space-between;
  align-content: center;
  border-radius: 4px;
}

details.active {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

summary::-webkit-details-marker {
  display: none
}

summary::after {
  float: right;
  font-family: "Font Awesome 5 Free";
  content: "\f0fe";
}

details[open] summary::after {
  float: right;
  font-family: "Font Awesome 5 Free";
  content: "\f146";
}

details h4 {
  margin: 0;
  color: #2d2d2d !important;
  line-height: inherit;
}

/* Contact Form */
#fs-frm input,
#fs-frm select,
#fs-frm textarea,
#fs-frm fieldset,
#fs-frm optgroup,
#fs-frm label,
#fs-frm #card-element:disabled {
  font-family: inherit;
  font-size: 100%;
  color: inherit;
  border: none;
  border-radius: 0;
  display: block;
  width: 100%;
  padding: 0;
  margin: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
}

#fs-frm label,
#fs-frm legend,
#fs-frm ::placeholder {
  font-size: .825rem;
  margin-bottom: .5rem;
  padding-top: .2rem;
  display: flex;
  align-items: baseline;
}

/* border, padding, margin, width */
#fs-frm input,
#fs-frm select,
#fs-frm textarea,
#fs-frm #card-element {
  border: 1px solid rgba(0,0,0,0.2);
  background-color: rgba(255,255,255,0.9);
  padding: .75em 1rem;
  margin-bottom: 1.5rem;
}

#fs-frm input:focus,
#fs-frm select:focus,
#fs-frm textarea:focus {
  background-color: var(--nord1);
  outline-style: solid;
  outline-width: thin;
  outline-color: gray;
  outline-offset: -1px;
}

#fs-frm [type="text"],
#fs-frm [type="email"] {
  width: 100%;
}
#fs-frm [type="button"],
#fs-frm [type="submit"],
#fs-frm [type="reset"] {
  width: auto;
  cursor: pointer;
  -webkit-appearance: button;
  -moz-appearance: button;
  appearance: button;
}
#fs-frm [type="button"]:focus,
#fs-frm [type="submit"]:focus,
#fs-frm [type="reset"]:focus {
  outline: none;
}
#fs-frm [type="submit"],
#fs-frm [type="reset"] {
  margin-bottom: 0;
}

/* Scrollbar */
/* Works on Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--primary) var(--nord1);
}

/* Works on Chrome, Edge, and Safari */
*::-webkit-scrollbar {
  width: 12px;
}

*::-webkit-scrollbar-track {
  background: var(--nord1);
}

*::-webkit-scrollbar-thumb {
  background-color: var(--primary);
  border-radius: 20px;
  border: 3px solid var(--nord1);
}

/* Listing Pages */
.posts-list .post-preview {
  max-width: 85%;
  margin-left: auto;
  margin-right: auto;
}

/* Darkmode */
.darkmode {
  --title-color:     var(--nord5);
  --header-color:    var(--nord5);
  --body-color:      var(--nord5);
  --aside-color:     var(--nord5);
  --fig-cap-color:   var(--nord5);
  background-color: var(--nord0);
  color: var(--nord5);
}

.darkmode d-article,
.darkmode d-appendix,
.darkmode body {
  background-color: var(--nord0);
  color: var(--nord5);
}

.darkmode d-title {
  color: var(--nord5);
}

.darkmode d-article blockquote {
  color: var(--nord5);
}

.darkmode d-byline {
  --heading-color:  var(--nord5);
  --body-color:     var(--nord5);
}

.darkmode d-appendix {
  border-color: var(--nord4);
  --heading-color:   var(--nord5);
  --text-color:      var(--nord5);
}

.darkmode d-appendix a {
  color: var(--nord5);
}

.darkmode .distill-site-header {
  --text-color: var(--nord5);
  --bkgd-color: var(--nord1);
}

.darkmode .distill-site-footer {
  --text-color: var(--nord5);
  --bkgd-color: var(--nord1);
}

.darkmode d-article div.sourceCode,
.darkmode code {
  background-color: var(--nord1);
}

.darkmode d-article pre {
  color: var(--nord4);
}

.darkmode code span {
  color: var(--nord6);
}

.darkmode a {
  border-color: var(--nord5);
}

.darkmode .posts-list .post-preview {
  border-color: var(--nord5);
}

.darkmode a:hover {
  border-color: var(--primary);
}

.darkmode .categories li > * {
  color: var(--nord5);
}

.darkmode .posts-list .dt-tags .dt-tag,
.darkmode .dt-tags .dt-tag {
  color: var(--nord5);
  border-color: var(--nord5);
}

.darkmode d-article .sourceCode {
  background-color: var(--nord1);
}

.darkmode details {
  color: var(--nord4);
}

.darkmode .algolia-autocomplete,
.darkmode .algolia-autocomplete .aa-input,
.darkmode .algolia-autocomplete .aa-dropdown-menu,
.darkmode .algolia-autocomplete div .search-item,
.darkmode .algolia-autocomplete .aa-hint {
  background-color: var(--nord1);
  color: var(--nord5);
}

.darkmode .social_footer {
  color: var(--nord5);
}

.darkmode #fs-frm input:focus,
.darkmode #fs-frm [type="submit"]:hover,
.darkmode #fs-frm [type="submit"] input:focus,
.darkmode #fs-frm select:focus,
.darkmode #fs-frm textarea:focus {
  background-color: var(--nord2);
}

.darkmode #fs-frm input,
.darkmode #fs-frm select,
.darkmode #fs-frm textarea,
.darkmode #fs-frm #card-element {
  border: 1px solid var(--nord1);
  background-color: var(--nord1);
}


.darkmode div.datatables,
.darkmode table.dataTable.stripe tbody tr.odd, .darkmode table.dataTable.display tbody tr.odd,
.darkmode table.dataTable tbody tr,
.darkmode input,
.darkmode .dataTables_wrapper .dataTables_length,
.darkmode .dataTables_wrapper .dataTables_filter,
.darkmode .dataTables_wrapper .dataTables_info,
.darkmode .dataTables_wrapper .dataTables_processing,
.darkmode .dataTables_wrapper .dataTables_paginate {
  color: var(--nord4);
  background-color: var(--nord1);
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    if (!/posts/.test(location.pathname)) {
      return;
    }

    var script = document.createElement("script");
    script.src = "https://utteranc.es/client.js";
    script.setAttribute("repo", "jmbuhr/jmbuhr.github.io");
    script.setAttribute("issue-term", "og:title");
    script.setAttribute("crossorigin", "anonymous");
    script.setAttribute("label", "comment_thread");
    script.setAttribute("theme", "preferred-color-scheme");

    /* wait for article to load, append script to article element */
    var observer = new MutationObserver(function (mutations, observer) {
      var article = document.querySelector("d-article");
      if (article) {
        observer.disconnect();
        /* HACK: article scroll */
        article.setAttribute("style", "overflow-y: hidden");
        article.appendChild(script);
      }
    });

    observer.observe(document.body, { childList: true });
  });
</script>

<script type="text/javascript" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=G-GPHE66WCS6"></script>
<script type="text/javascript" cookie-consent="tracking">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-GPHE66WCS6');
</script>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 1","description":"DataViz Makeover 1","authors":[{"author":"Yong Kai Lim","authorURL":"https://limyongkai.netlify.app/","affiliation":"Singapore Management University","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-05-29T00:00:00.000+08:00","citationText":"Lim, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://limyongkai.netlify.app/">
<img src="../../assets/img/red_YK.png" alt="Logo"/>
</a>
<a href="../../index.html" class="title">Yong Kai</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="https://github.com/limyongkai/distill_blog">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="../../index.html">Home</a>
<a href="../../post.html">Post</a>
<a href="../../about.html">About</a>
<a>
<i class="fas fa-adjust" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 1</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>DataViz Makeover 1</p></p>
</div>

<div class="d-byline">
  Yong Kai Lim <a href="https://limyongkai.netlify.app/" class="uri">https://limyongkai.netlify.app/</a> (Singapore Management University)
  
<br/>05-29-2021
</div>

<div class="d-article">
<h1 id="the-original-visualisation">The original Visualisation</h1>
<p>Figure <a href="#fig:original-visualisation">1</a> below shows the original visualisation for the top six trading countries with Singapore in 2019 to 2020 using the data provided by Department of Statistics, Singapore (DOS).</p>
<div class="layout-chunk" data-layout="l-page">
<div class="figure" style="text-align: center"><span id="fig:original-visualisation"></span>
<img src="img/org_visual.png" alt="Original Visualisation" width="1604" />
<p class="caption">
Figure 1: Original Visualisation
</p>
</div>
</div>
<h1 id="critiques-for-the-original-visualisation">1. Critiques for the original visualisation</h1>
<p>Before looking at the visualisation aesthetics and clarity, it is important to have a clear understanding of the context and objective of the visualisation.</p>
<p>What does merchandise trade constitutes?</p>
<ul>
<li>Merchandise Trade is the combination of imports and exports.
<ul>
<li>Imports refers to goods brought into Singapore.</li>
<li>Exports refers to good brought out of Singapore.</li>
</ul></li>
<li>How are the top six trading countries with Singapore selected?
<ul>
<li>They are selected based on their total summation of imports and exports for year 2020.</li>
</ul></li>
<li>How do we measure merchandise trade?
<ul>
<li>Merchandise trade is measured in Singapore Dollars (S$).</li>
</ul></li>
</ul>
<h2 id="clarity-of-visualisation">1.1 Clarity of Visualisation</h2>
<p>Clarity is the visualisation <strong>“Fit”</strong>: How the visualisation matches and tell reality.</p>
<h3 id="good-points-in-the-visualisation-to-be-kept">1.1.1 Good points in the visualisation to be kept</h3>
<ol type="1">
<li>Plotting the graph over time provides temporal information.</li>
<li>Graph was plotted with “Export” and “Import” data.</li>
</ol>
<h3 id="areas-to-be-improved">1.1.2 Areas to be improved</h3>
<ol type="1">
<li>Title of visualisation did not mention who the six countries are trading with.</li>
<li>Subtitle can be added to provide more context and information for the visualisation, such as how the top six countries are selected, which year is used for the calculation and the unit of measurements.</li>
<li>Lack of aggregated data that determined the ranking and selection of the top six countries.</li>
<li>Ranking of the countries could present valuable information for the visualisation.</li>
<li>No caption is included to reference the source of data.</li>
<li>Different axis intervals and range giving the wrong visual perception:
<ul>
<li>Inter-plot x-axis intervals and range are different. Japan plot has a different time period as compared to the other countries.</li>
<li>Inter-plot y-axis intervals and range for import and exports are different, making it difficult to compare between the six countries.</li>
<li>Y-axis label is confusing. The “M” was not explained.</li>
</ul></li>
<li>Merchandise trade can be seasonal and it fluctuates heavily by month. A condensed time frame might be more useful for the visualiation.</li>
</ol>
<h2 id="aesthetics-of-visualisation">1.2 Aesthetics of Visualisation</h2>
<p>Aesthetics is the visualisation <strong>“Form”</strong>: How the visualisation looks.</p>
<h3 id="good-points-in-the-visualisation-to-be-kept-1">1.2.1 Good points in the visualisation to be kept</h3>
<ol type="1">
<li>Individual graph for each country allows comparison between the countries.</li>
</ol>
<h3 id="areas-to-be-improved-1">1.2.2 Areas to be improved</h3>
<ol type="1">
<li>Title alignment are inconsistent.
<ul>
<li>Main title is skewed to the right.</li>
<li>Individual titles are skewed to the left.</li>
<li>Main title font size is smaller than individual plots title.</li>
</ul></li>
<li>Color fill under the curve does not bring any value. Furthermore, the overlapping colors are confusing for readers to read and interpret.</li>
<li>Annotation can be added on the graphs to tell the story more effectively.</li>
</ol>
<h1 id="alternative-data-visualisation">2. Alternative Data Visualisation</h1>
<p>From Ben’s <span class="citation" data-cites="clarity_aesthetics">(Jones <a href="#ref-clarity_aesthetics" role="doc-biblioref">2012</a>)</span> Data Visualisation chart of Clarity vs. Aesthetics shown in Figure <a href="#fig:clarity-aesthetics">2</a>, the current visualisation would fall under Quadrant III and the proposed visualisation would aim to be in Quadrant I.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:clarity-aesthetics"></span>
<img src="img/clarity_aesthetics_chart.jpg" alt="Aesthetics against Clarity chart"  />
<p class="caption">
Figure 2: Aesthetics against Clarity chart
</p>
</div>
</div>
<p>To improve the visualisation, the time series could be changed to yearly instead of monthly. Merchandise trade of each country fluctuates heavily and certain goods are seasonal. Utilising a monthly interval for the x-axis clutters the graph with the line plot peak and trough that might not provide useful information. Aggregating the data into years might be clearer for interpretation for the change over year.</p>
<p>An additional plot can be added to summarize and rank the top 6 countries. This plot displayed will include background information that the top six country are selected based on the total trade in 2020. The bar plot can also be arranged in descending order to showcase the ranking of the six countries.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="figure" style="text-align: center"><span id="fig:sketch"></span>
<img src="img/dataviz/sketch.jpg" alt="Sketch of alternative visualisation"  />
<p class="caption">
Figure 3: Sketch of alternative visualisation
</p>
</div>
</div>
<p>Figure <a href="#fig:sketch">3</a> would be an alternative presentation of the visualisation.</p>
<ul>
<li>The title will be renamed to provide more context to understand the visualisation.</li>
<li>Subtitle will be added to provide background information on the context.</li>
<li>The line plot concept will be retained on the left of the visualisation.
<ul>
<li>The x-axis will be changed to year instead of months to aggregate the data.</li>
<li>The y-axis title to include the units of measurement (S$).</li>
<li>Line plot to be stacked horizontally with same y-axis marks for comparison of trade value between the 6 countries.</li>
<li>Additional line of total trade (sum of import and export) to be included in the graph.</li>
</ul></li>
<li>Additional horizontal bar plot to be added to the right of the visualisation.
<ul>
<li>The bar plot will indicate the total trade in 2020.</li>
<li>Include the title and context for the bar plot.</li>
<li>Other than the 6 country, include an additional variable <em>Others</em> to group the remaining countries.</li>
<li>Change the color for the bar plot to <span style="color:green">green</span> to align to the line plot.</li>
</ul></li>
<li>Include caption to indicate the dataset source and date.</li>
<li>Include footer if necessary to indicate any special information.</li>
</ul>
<h1 id="proposed-data-visualisation-using-tableau">3. Proposed Data Visualisation using Tableau</h1>
<p>The dataset used was retrieved from <a href="https://www.singstat.gov.sg/">Deparment of Statistics Singapore</a> under the sub-section of <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">Merchandise Trade by Region/Market</a>.</p>
<p><a href="https://www.tableau.com/products/prep">Tableau Prep Builder 2021.1</a> software is used for data preparation and <a href="https://www.tableau.com/">Tableau 2021.1</a> is used for data visualisation.</p>
<h2 id="data-preparation">3.1 Data Preparation</h2>
<p>Upload the dataset into Tableau Prep Builder.</p>
<div class="layout-chunk" data-layout="1-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step1"></span>
<img src="img/dataprep/import_step1.PNG" alt="Load the Import worksheet" width="692" />
<p class="caption">
Figure 4: Load the Import worksheet
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step1">4</a> to import the dataset by following the steps below.</strong> <br /> 1. Tick the box circled in <span style="color:red">red</span> on the left. This option allows the Tableau Prep Builder to perform preliminary cleaning of the data. <br /> 2. Drag the <em>T1</em> worksheet in <span style="color:orange">orange</span> into the middle box. <br /> 3. Change the name in <span style="color:green">green</span> to <em>Import</em>. <br /> 4. Click the + button and create a <em>Clean Step</em> node in <span style="color:purple">purple</span>.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step2"></span>
<img src="img/dataprep/import_step21.PNG" alt="Exclude the rows for regions" width="611" />
<p class="caption">
Figure 5: Exclude the rows for regions
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step2">5</a> to exclude the rows for regions and total imports by following the steps below.</strong> <br /> 1. Select the first 7 rows (<em>Total Merchandise Imports, America, Asia, Europe, Oceania, Africa, European Union</em>) in <span style="color:red">red</span> from the <em>Variables</em> column and click the <em>Exclude</em> button in <span style="color:orange">orange</span>. <br /></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step3"></span>
<img src="img/dataprep/import_step3.PNG" alt="Pivot Date into row" width="634" />
<p class="caption">
Figure 6: Pivot Date into row
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step3">6</a> to pivot the Months from the columns into rows.</strong> <br /> 1. Select the + button and create a <em>Pivot</em> node in <span style="color:red">red</span>. <br /> 2. Drag all the months column header and drop to the <em>Pivoted Fields</em> section as per the <span style="color:orange">orange arrow</span>. <br /> 3. Rename the column headers to <em>Date, Import and Country</em> accordingly in <span style="color:blue">blue box</span>. <br /> 4. Change the data type of <em>Date</em> column to <em>Date</em> in <span style="color:green">green</span>.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step4"></span>
<img src="img/dataprep/import_step4.PNG" alt="Clean column header and label data type" width="545" />
<p class="caption">
Figure 7: Clean column header and label data type
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step4">7</a> to aggregrate the import by year</strong> <br /> 1. Select the + button and create an <em>Aggregate</em> node in <span style="color:red">red</span>. <br /> 2. Drag column <em>Country</em> and <em>Date</em> and drop them in <em>Grouped Fields</em> as per the <span style="color:orange">orange arrow</span>. <br /> 3. Drag column <em>Import</em> and drop it in <em>Aggregated Fields</em> as per the <span style="color:green">green arrow</span> to aggregate the sum of import by year. <br /> 3. <em>Group</em> the column <em>Date</em> by <em>Year</em> following the steps in the <span style="color:blue">blue boxes</span>. <br /></p>
<p><strong>Repeat the steps from Figure <a href="#fig:import-step1">4</a> to Figure <a href="#fig:import-step4">7</a> for Export using the <em>T2</em> worksheet.</strong></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step5"></span>
<img src="img/dataprep/import_step51.PNG" alt="Join both tables" width="551" />
<p class="caption">
Figure 8: Join both tables
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step5">8</a> to Join both table</strong> <br /> 1. Drag the <em>Aggregate 3</em> node from <em>T2</em> flow to the + button on the right of <em>T1</em> flow as shown in the <span style="color:red">red arrow</span> in Figure <a href="#fig:import-step5">8</a>. <br /> 2. Add two <em>Applied Join Clauses</em> to match variables <em>Date</em> and <em>Country</em> shown in <span style="color:orange">orange box</span>. <br /> 3. Select the <em>Join Type</em> to <em>full</em> in the <span style="color:green">green box</span> to include all countries into the final list. <br /> 4. Select the columns <em>Country(Country-1)</em> and <em>Date(Date-1)</em> and <em>Remove Fields</em> in the <span style="color:blue">blue box</span>. These are duplicate or repeated columns after performing the <em>Join</em>.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step6"></span>
<img src="img/dataprep/import_step61.PNG" alt="Create new column for total sum of export and import" width="536" />
<p class="caption">
Figure 9: Create new column for total sum of export and import
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step6">9</a> to create new column for total sum of export and import</strong> <br /> 1. Select the <em>Create Calculated Field</em> button in <span style="color:red">red</span>. <br /> 2. Change the <em>Field Name</em> to <em>Total</em> in <span style="color:orange">orange</span>. <br /> 3. Input the equation of <em>[Export] + [Import]</em> in <span style="color:green">green</span> and save the new column. <br /></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step7"></span>
<img src="img/dataprep/import_step71.PNG" alt="Pivot the Export, Import and Total columns" width="548" />
<p class="caption">
Figure 10: Pivot the Export, Import and Total columns
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step7">10</a> to Pivot the columns</strong> <br /> 1. Create a new <em>Pivot</em> node in the <span style="color:red">red box</span>. <br /> 2. Drag and drop the columns <em>Export, Import</em> and <em>Total</em> into the <em>Pivoted Fields</em> in <span style="color:orange">orange</span>. <br /></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:import-step8"></span>
<img src="img/dataprep/import_step81.PNG" alt="Output into csv" width="575" />
<p class="caption">
Figure 11: Output into csv
</p>
</div>
</div>
<p><strong>Refer to Figure <a href="#fig:import-step8">11</a> to Ouput file into csv</strong> <br /> 1. Create a new <em>Ouput</em> node in the <span style="color:red">red box</span>. <br /> 2. Select the <em>Browse</em> button to change the directory and filename and change the <em>Output type</em> to <em>Comma Separated Values (.csv)</em> in <span style="color:orange">orange</span>. <br /></p>
<h2 id="data-visualisation">3.2 Data Visualisation</h2>
<p>The data prepared earlier is uploaded into Tableau for Visualisation.</p>
<h3 id="create-line-plot-for-the-6-countries">3.2.1 Create line plot for the 6 countries</h3>
<p>The data contains all countries that trades with Singapore from 1976 to 2021. Hence, the columns <em>Year</em> and <em>Country</em> is added to the <em>Filter</em> section on the worksheet to align with the original visualisation parameters. Refer to step 1 and 2 together with Figure <a href="#fig:viz-step1">12</a> to filter the 6 countries for 2019 and 2020. <br /></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:viz-step1"></span>
<img src="img/dataviz/filter.PNG" alt="Filter the Country and Year" width="706" />
<p class="caption">
Figure 12: Filter the Country and Year
</p>
</div>
</div>
<ol type="1">
<li>Filter <em>Year</em> to select 2019 and 2020. <br /></li>
<li>Filter <em>Country</em> to select the 6 countries, <em>Mainland China, Malaysia, United States, Taiwan, Hong Kong</em> and <em>Japan</em>. <br /></li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:viz-lineplot-1"></span>
<img src="img/dataviz/lineplot-1.PNG" alt="Dual axis and sychronize of dual y-axis" width="527" />
<p class="caption">
Figure 13: Dual axis and sychronize of dual y-axis
</p>
</div>
</div>
<ol start="3" type="1">
<li>Create line plot by adding <em>Country</em> and <em>Date</em> to the Columns section and two <em>Trade value</em> node to Rows section.</li>
<li>Set one <em>Trade value</em> to a Line graph and the other <em>Trade value</em> to a Shape type. Right click the second node and select <em>Dual Axis</em> and Synchronize the secondary y-axis as in Figure <a href="#fig:viz-lineplot-1">13</a>. This allows the graph aesthetics to be more customisable with the size and shape.</li>
<li>Add the <em>Trade type</em> to the <em>Color</em> tab to separate into 3 lines: <em>Export</em>, <em>Import</em> and <em>Total</em>.</li>
<li>Change the <em>Total</em> line color to <span style="color:green">green</span> to signify the total summation of import and export.</li>
<li>Right click the the secondary dual y-axis on the right and uncheck the <em>Show Header</em> option to remove the y-axis. As the secondary y-axis is of the same interval as the primary y-axis on the left, there is no value is displaying it.</li>
<li>Rename the y-axis to <em>Trade Value (S$)</em>.</li>
<li>Change the Title of the graph to <em>Merchandise Trade of Top Six Trading Countries with Singapore from 2019 to 2020, (S$)</em>.</li>
</ol>
<div class="layout-chunk" data-layout="l-page">
<div class="figure" style="text-align: center"><span id="fig:viz-lineplot-2"></span>
<img src="img/dataviz/lineplot-2.png" alt="Creating dummy variables and annotate YoY" width="1954" />
<p class="caption">
Figure 14: Creating dummy variables and annotate YoY
</p>
</div>
</div>
<ol start="10" type="1">
<li>Annotate the Year-on-Year change from 2019 to 2020 on the <em>Total</em> line to show the change in percentage. The numbers is set to <span style="color:red">red</span> to indicate negative growth and <span style="color:green">green</span> to indicate positive growth. To allow repeatability in annotating the number and colors for the dashboard, five dummy variables are created as shown in Figure <a href="#fig:viz-lineplot-2">14</a>.
<ul>
<li><em>percent+</em> and <em>percent-</em> to indicate the positive and negative growth year-on-year in percentage. The logic sequence is in subsection <strong>1</strong> in Figure <a href="#fig:viz-lineplot-2">14</a>.</li>
<li><em>arrow+</em> and <em>arrow+</em> to show an upward pointing triangle for positive growth and downward pointing triangle for negative growth respectively. The logic sequence is in subsection <strong>2</strong> in Figure <a href="#fig:viz-lineplot-2">14</a>.</li>
<li><em>Verb</em> to output the word <strong>grew</strong> or <strong>fell</strong> depending if the year-on-year change is positive or negative respectively. The logic sequence is in subsection <strong>3</strong> in Figure <a href="#fig:viz-lineplot-2">14</a>.</li>
<li>Right click the <span style="color:green">green circle</span> for Total sales in 2020 and add <em>Annotate -&gt; Mark</em>.</li>
<li>Include the annotation description in Figure <a href="#fig:viz-lineplot-2">14</a> subsection 4. Change the color for positive change to <span style="color:green">green</span> and negative change to <span style="color:red">red</span>.</li>
</ul></li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:viz-lineplot-3"></span>
<img src="img/dataviz/lineplot-3.PNG" alt="Annotate unique insights" width="280" />
<p class="caption">
Figure 15: Annotate unique insights
</p>
</div>
</div>
<ol start="11" type="1">
<li>Annotate unique insights such as strong increase or decrease of the import or export on the graph. The annotation description is shown in Figure <a href="#fig:viz-lineplot-3">15</a> and change the color similar to step 10 for <em>Total</em> change.</li>
</ol>
<p>The final line plot is shown in Figure <a href="#fig:viz-lineplot-4">16</a>.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="figure" style="text-align: center"><span id="fig:viz-lineplot-4"></span>
<img src="img/dataviz/lineplot-4.PNG" alt="Final line plot" width="828" />
<p class="caption">
Figure 16: Final line plot
</p>
</div>
</div>
<h3 id="create-bar-chart-for-the-6-countries-in-2020">3.2.2 Create Bar Chart for the 6 countries in 2020</h3>
<ol type="1">
<li>Create a <em>Bar</em> chart in a new worksheet</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:viz-barchart-1"></span>
<img src="img/dataviz/barchart-1.PNG" alt="Create new Variable for other countries" width="496" />
<p class="caption">
Figure 17: Create new Variable for other countries
</p>
</div>
</div>
<ol start="2" type="1">
<li>Right click <em>Country</em> and <em>Create</em> a new <em>Set</em> as per the top left example in Figure <a href="#fig:viz-barchart-1">17</a>.</li>
<li>Name the set <em>top6country</em> and select the 6 countries from the list as per the top right example in Figure <a href="#fig:viz-barchart-1">17</a>.</li>
<li>In the <em>Analysis</em> toolbar, select <em>Create Calculated Field</em>.</li>
<li>Enter the logic sequence shown at the bottom of Figure <a href="#fig:viz-barchart-1">17</a> and name the variable <em>Others</em>. This creates a new variable where the 6 countries are named as usual and the other countries will be combined into the dummy variable called <em>Others</em>.</li>
<li>Filter <em>Date</em> variable to show only 2020.</li>
<li>Filter <em>Trade type</em> to show only <em>Total</em>.</li>
<li>Insert variable <em>Others</em> to the Rows and <em>Trade Value</em> to the Columns on the bar chart worksheet.</li>
<li>Insert <em>Others</em> to the Color and <em>Trade Value</em> to Label and change the calculation to <em>Percent of Total</em>. This shows the proportion of total trade value for each country over Singapore’s total trade value in 2020.</li>
<li>Edit the bar colors to <span style="color:green">green</span> to align to the Line plot <em>Total</em> color. Set the <em>Others</em> to <span style="color:grey">grey</span> color to better differentiate the countries apart.</li>
<li>Change the Title to <em>Total Merchandise Trade of Singapore in 2020, (S$)</em>.</li>
<li>Change the x-axis title to <em>Trade Value (S$)</em>.</li>
</ol>
<div class="layout-chunk" data-layout="l-page">
<div class="figure" style="text-align: center"><span id="fig:viz-barchart-2"></span>
<img src="img/dataviz/barchart-2.PNG" alt="Final Bar Chart (2020)" width="827" />
<p class="caption">
Figure 18: Final Bar Chart (2020)
</p>
</div>
</div>
<h3 id="create-dashboard">3.2.3 Create Dashboard</h3>
<ol type="1">
<li>Create a new Dashboard.</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="figure" style="text-align: center"><span id="fig:viz-dashboard-1"></span>
<img src="img/dataviz/dashboard-1.PNG" alt="Dashboard wireframe" width="835" />
<p class="caption">
Figure 19: Dashboard wireframe
</p>
</div>
</div>
<ol start="2" type="1">
<li>Setup the wireframe for the dashboard by referring to Figure <a href="#fig:viz-dashboard-1">19</a> and the following steps.
<ul>
<li>Change the dashboard <em>Size</em> to <em>Automatic</em> boxed in <span style="color:red">red</span> in Figure <a href="#fig:viz-dashboard-1">19</a>.</li>
<li>Check the option for <em>Show dashboard title</em> boxed in <span style="color:red">red</span> to display the Title in Figure <a href="#fig:viz-dashboard-1">19</a> subsection <strong>1</strong>.</li>
<li>Insert <em>Horizontal</em> and <em>Vertical</em> objects as shown in Figure <a href="#fig:viz-dashboard-1">19</a> for section 2 to 6.</li>
</ul></li>
<li>Drag and drop the line plot worksheet <em>Trade</em> to sub section 3 in Figure <a href="#fig:viz-dashboard-1">19</a>.</li>
<li>Change line plot <em>Legend</em> to floating and re-position it on top of the line plot.</li>
<li>Drag and drop the bar chart worksheet <em>BarChart2020</em> to sub section 4 in Figure <a href="#fig:viz-dashboard-1">19</a>.</li>
<li>Remove the <em>Legend</em> container as the country name is represented on the y-axis.</li>
<li>Change the Title of the dashboard</li>
<li>Add subtitle to provide context for visualisation.</li>
<li>Add caption to include source and date of data.</li>
<li>Add footer to include the metadata definition and exclusion of data.</li>
</ol>
<div class="layout-chunk" data-layout="l-page">
<div class="figure" style="text-align: center"><span id="fig:viz-dashboard-2"></span>
<img src="img/dataviz/dashboard-2.png" alt="Final Dashboard" width="828" />
<p class="caption">
Figure 20: Final Dashboard
</p>
</div>
</div>
<p>The final visualisation is available on my <a href="https://public.tableau.com/app/profile/lim.yong.kai/viz/dataviz1_16221835935250/FinalDashboard">Tableau Public</a> page.</p>
<h1 id="insights-from-visualisation">4.0 Insights from visualisation</h1>
<p>There is a saying: “Statistics are like bikinis. What they reveal is suggestive, but what they conceal is vital.” Visualisation should be designed to be factual and clear for interpretation.</p>
<p>A positive trade balance is termed when Singapore export value is greater than import value with a country. This signifies an inflow of cash to Singapore from the country. Conversely, an negative trade balance is termed when Singapore import value is greater than export value with a country. This signifies an outflow of cash from Singapore to the country.</p>
<p>COVID-19 was an unprecedented event in 2020 which led to countries locking down their cities or closing their borders globally and Singapore is no exception. Trade is integral to Singapore’s success and the decrease in trade activities in 2020 was a major impact on it’s growth. However, the makeover from the original visualisation showed meaningful insights for interpretation.</p>
<ol type="1">
<li><p>The total trade value with Malaysia fell 8.4% in 2020, the largest decrease among the six countries. The Import value with Malaysia was similar for 2020 whereas the Export value took a major hit and fell by 18.2% from 2019. This resulted in a negative trade balance with Malaysia in 2020.</p></li>
<li><p>The total trade with the United States marginally fell by 2.5%. However, there was a large change in Export (grew 19.2%) and Import (fell 18.9%) in 2020. In 2019, Singapore had a negative trade balance with the United States and it was the reversed in 2020 where there was a positive trade balance.</p></li>
<li><p>Trade with Taiwan performed the best among the six countries where the total trade value grew by 13.0% in 2020. Both export and import grew significantly in 2020.</p></li>
<li><p>Hong Kong is the fifth largest trade country with Singapore among the six country. Interestingly, export value is much larger than import value where the exports value is around 90% of the total trade value.</p></li>
<li><p>Mainland China and Japan total trade value had marginal change. Imports and exports are also consistent and equal in 2020.</p></li>
<li><p>The top six countries total trade stands at around 57% of Singapore’s total trade in 2020.</p></li>
</ol>
<p>In light of COVID-19 pandemic affecting countries economy, the changes in trade might be unique in 2020. A better representation would be to use a longer time frame to show the general trend of the trade value.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references" role="doc-bibliography">
<div id="ref-clarity_aesthetics">
<p>Jones, Ben. 2012. “Data Visualization: Clarity or Aesthetics?” 2012. <a href="https://dataremixed.com/2012/05/data-visualization-clarity-or-aesthetics/">https://dataremixed.com/2012/05/data-visualization-clarity-or-aesthetics/</a>.</p>
</div>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<script>
const darkmodeToggle = document.getElementsByClassName("fas fa-adjust")[0];
let theme = localStorage.getItem("theme");

if (!theme) {
  if (window.matchMedia("(prefers-color-scheme: dark)").matches ) {
    theme = "dark";
  } else {
    theme = "light";
  }
}
setTheme();

function switchTheme() {
  if (theme === "light") {
    theme = "dark";
  } else {
    theme = "light";
  }
  localStorage.setItem("theme", theme);
  setTheme();
  console.log(theme);
}

function setTheme() {
  if (theme === "dark") {
    document.body.classList.add('darkmode');
  } else {
    document.body.classList.remove('darkmode');
  }
}

darkmodeToggle.addEventListener('click', switchTheme)
</script>
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="references">References</h3>
  <div id="references-listing"></div>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Lim (2021, May 29). Yong Kai: DataViz Makeover 1. Retrieved from https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{lim2021dataviz,
  author = {Lim, Yong Kai},
  title = {Yong Kai: DataViz Makeover 1},
  url = {https://limyongkai.netlify.app/posts/2021-05-22-dataviz-makeover-1/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
  <div class="footer">
    <p>
      <a href="mailto:limyongkai@gmail.com">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height:1em;fill:currentColor;position:relative;display:inline-block;top:.1em;"> [ comment ] <path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>
      </a>
      <a href="https://github.com/limyongkai">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" style="height:1em;fill:currentColor;position:relative;display:inline-block;top:.1em;"> [ comment ] <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
      <a href="https://www.linkedin.com/in/yong-kai-lim-a72742137/">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="height:1em;fill:currentColor;position:relative;display:inline-block;top:.1em;"> [ comment ] <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    </p>
  </div>
  <p>
Lim Yong Kai<br/>
Â© Copyright <script>document.write(new Date().getFullYear())</script> <br/>
Made with <a href="https://rstudio.github.io/distill/">distill</a>,
<a href="https://github.com/rstudio/rmarkdown">Rmarkdown</a> and
the <a href="https://www.nordtheme.com/">Nord color palette</a> in <a href="https://www.rstudio.com">Rstudio</a>.
</p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
